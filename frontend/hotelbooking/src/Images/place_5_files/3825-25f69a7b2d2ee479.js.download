"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3825,93613,85457,46483,22251],{17515:function(e,t,r){r.d(t,{_:function(){return o}});var n=r(57460),i=r(52322),a=(0,r(63803).Z)((0,i.jsx)("path",{d:"M11.467 22.8l1.867 1.867 8-8-8-8-1.867 1.867 6.133 6.133-6.133 6.133z"}),"ChevronRight.svg"),o=e=>(0,i.jsx)(a,(0,n._)({viewBox:"0 0 32 32"},e))},81146:function(e,t,r){r.d(t,{e:function(){return a}});var n=r(57460),i=r(38398),a=e=>{var{urlParams:t={},queryParams:r={}}=e,a="/bundle/".concat(t.filename),o=(0,n._)({},r);return{url:a,defaultParams:o,formattedUrl:(0,i.format)({pathname:a,query:o})}}},7665:function(e,t,r){r.d(t,{K0:function(){return a},Zk:function(){return i}});var n=r(38398),i=()=>{var e="/email/ss_premier_sub_account_activation_email";return{url:e,formattedUrl:(0,n.format)({pathname:e})}},a=()=>{var e="/email/premier_cart_confirmation";return{url:e,formattedUrl:(0,n.format)({pathname:e})}}},62054:function(e,t,r){r.d(t,{AN:function(){return p},FB:function(){return d},Hf:function(){return _},Pf:function(){return y},Xq:function(){return c},ZQ:function(){return f},_W:function(){return h},bw:function(){return v},dv:function(){return u},h2:function(){return s},nS:function(){return m}});var n=r(57460),i=r(6692),a=r(67148),o=r(38398),l=e=>{var{urlParams:t={},queryParams:r={}}=e,i="/cart/".concat(t.isPrimary?a.Yl:a.d7),l=(0,n._)({},r);return{url:i,defaultParams:l,formattedUrl:(0,o.format)({pathname:i,query:l})}},u=function(){var{urlParams:e={},queryParams:t={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=l({urlParams:e,queryParams:t}),a=(0,n._)({},r.defaultParams);return(0,i._)((0,n._)({},r),{defaultParams:a,formattedUrl:(0,o.format)({pathname:r.url,query:a})})},s=l,c=l,d=e=>{var{urlParams:t={},queryParams:r={}}=e,i="/cart/".concat(t.fromCartType,"/to/").concat(t.toCartType),a=(0,n._)({},r);return{url:i,defaultParams:a,formattedUrl:(0,o.format)({pathname:i,query:a})}},v=e=>{var{urlParams:t={}}=e,r="/organization/".concat(t.organizationId,"/invitations/").concat(t.status);return{url:r,formattedUrl:(0,o.format)({pathname:r})}},m=e=>{var{urlParams:t={}}=e,r="/account/user/".concat(t.id,"/settings");return{url:r,formattedUrl:(0,o.format)({pathname:r})}},f=e=>{var{urlParams:t={}}=e,r="/account/user/".concat(t.id,"/settings");return{url:r,formattedUrl:(0,o.format)({pathname:r})}},p=e=>{var{urlParams:t={}}=e,r="/organization/".concat(t.organizationId,"/invitations/").concat(t.invitationId);return{url:r,formattedUrl:(0,o.format)({pathname:r})}},_=e=>{var{urlParams:t={}}=e,r="/organization/".concat(t.organizationId,"/invitations");return{url:r,formattedUrl:(0,o.format)({pathname:r})}},h=e=>{var{urlParams:t={}}=e,r="/organization/users/".concat(t.id);return{url:r,formattedUrl:(0,o.format)({pathname:r})}},y=function(){var{queryParams:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/cart/".concat(a.Yl,"/quote"),r=(0,i._)((0,n._)({},e),{exclude_comps:1,expand:"agreements"});return{url:t,defaultParams:r,formattedUrl:(0,o.format)({pathname:t,query:r})}}},22785:function(e,t,r){r.r(t),r.d(t,{Snackbar:function(){return p}});var n=r(57460),i=r(6692),a=r(52322),o=r(52850),l=r(99414),u=r(35326),s=r(28603),c=r(67148),d=r(98761),v=r(26481),m=r(79428),f=e=>{var{status:t,isSizeLimitWarning:r,alertLabels:n}=e;return r?n.sizeLimitWarning:t===s.MR?n.addToCartSuccess:n.addToCartWarning},p=e=>{var{isOpen:t,isSizeLimitWarning:r=!1,addToCartStatus:p,snackBarActionAllowed:_=!0,handleSnackbarClose:h}=e,{t:y}=(0,m.$G)(o.jey),{status:g,error:b}=p,S={addToCartSuccess:y("common:actions_added_to_cart"),addToCartWarning:y("notifications:label_add_to_cart_failure"),sizeLimitWarning:y("ent:cart_size_limit_warning",{LIMIT:c.fv}),viewActionLabel:y("common:actions_view")},I=f({status:g,isSizeLimitWarning:r,alertLabels:S}),{isBrandEnterprise:T}=(0,v.D)(),{viewCartAction:E}=(0,l.q)(),w=(0,d.W)(),C={onClick:()=>{h(),T?w():E()},label:S.viewActionLabel};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(u.DynamicSnackbar,(0,i._)((0,n._)({},p.status===s.MR&&_&&{alertAction:C}),{alertSeverity:g,error:b,handleSnackbarClose:h,isOpen:t&&!!g,message:I}))})}},94846:function(e,t,r){r.d(t,{J:function(){return p},t:function(){return _}});var n=r(81862),i=r(52322),a=r(19778),o=r(99067),l=r(2784),u=r(57460),s=r(2281),c=r(25237),d=r.n(c)()(()=>Promise.all([r.e(3764),r.e(81189),r.e(71182),r.e(13668),r.e(97478)]).then(r.bind(r,97478)).then(e=>e.AddToCartDialog),{loadableGenerated:{webpack:()=>[97478]},ssr:!1}),v=e=>{var{isActive:t}=e,r=(0,s._)(e,["isActive"]);return(0,o.B)(t)&&(0,i.jsx)(d,(0,u._)({isActive:t},r))},m=r(22785),f={status:"",error:void 0},p=e=>{var{addToCartStatus:t=f,assets:r=null,eventLabel:n,gridItems:a=null,isAddToCartDialogActive:l,isPrimary:u,isSnackBarOpen:s,isSizeLimitWarning:c,onAddToCart:d,onAlertSnackbarClose:p,setIsAddToCartDialogActive:_,pageSection:h,listId:y,snackBarActionAllowed:g=!0}=e;return(0,o.B)(r)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v,{assets:r,eventLabel:n,gridItems:a,isActive:l,isPrimary:u,listId:y,onAddToCart:d,pageSection:h,setIsActive:_}),(0,i.jsx)(m.Snackbar,{snackBarActionAllowed:g,addToCartStatus:t,handleSnackbarClose:p,isOpen:s,isSizeLimitWarning:c})]}):null},_=function(){var e,t,{withOptimisticUpdate:r=!0,setIsVerifying:i,snackBarActionAllowed:o=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[u,s]=(0,l.useState)(!1),[c,d]=(0,l.useState)(!1),[v,m]=(0,l.useState)(null),[f,_]=(0,l.useState)(null),[h,y]=(0,l.useState)(!0),[g,b]=(0,l.useState)(null),[S,I]=(0,l.useState)(null),[T,E]=(0,l.useState)(null),{addCartItems:w,moveToSaveForLater:C,moveToPrimary:A,addToCartStatus:P,isSizeLimitWarning:R,notAddedSelectVideos:L}=(0,a.gV)();(0,l.useEffect)(()=>()=>m(null),[]);var k=(0,l.useCallback)(e=>{var{assets:t,eventLabel:n,licenseId:a,formatType:o,licensePrice:l,cart:u,mutateCart:s,notAddedSelectVideoIds:c,pageSection:m,listId:p}=e;null==i||i(!0),d(!0),w({cart:u,eventLabel:n,gridItems:f,isPrimary:h,itemsToAdd:t||v,licenseId:a,formatType:o,licensePrice:l,mutateCart:s,notAddedSelectVideoIds:c,withOptimisticUpdate:r,pageSection:m,listId:p})},[v,f,w,h,i,r]),O=(0,l.useCallback)((e=(0,n._)(function*(e){var{itemsToMove:t,primaryCart:r,mutatePrimaryCart:n,mutateSavedForLaterCart:a}=e;null==i||i(!0),d(!0);try{yield A({itemsToMove:t,primaryCart:r,mutatePrimaryCart:n,mutateSavedForLaterCart:a})}catch(e){null==i||i(!1)}}),function(t){return e.apply(this,arguments)}),[A,i]),D=(0,l.useCallback)((t=(0,n._)(function*(e){var{itemsToMove:t,primaryCart:r,savedForLaterCart:n,mutatePrimaryCart:a,mutateSavedForLaterCart:o}=e;null==i||i(!0),d(!0);try{yield C({itemsToMove:t,primaryCart:r,savedForLaterCart:n,mutatePrimaryCart:a,mutateSavedForLaterCart:o})}catch(e){null==i||i(!1)}}),function(e){return t.apply(this,arguments)}),[C,i]);return{addToCartViewsProps:(0,l.useMemo)(()=>({addToCartStatus:P,assets:v,eventLabel:T,gridItems:f,isAddToCartDialogActive:u,isPrimary:h,isSizeLimitWarning:R,isSnackBarOpen:c,onAddToCart:k,onAlertSnackbarClose:()=>d(!1),notAddedSelectVideos:L,setIsAddToCartDialogActive:s,pageSection:g,listId:S,snackBarActionAllowed:o}),[v,f,P,T,S,g,u,h,R,c,L,k,o]),addToCartViewsHandler:(0,l.useCallback)(e=>{var{assets:t,eventLabel:r,gridItems:n,isMoveToPrimaryCart:i=!1,isMoveToSavedForLaterCart:a=!1,isPrimaryCart:o=!0,mutatePrimaryCart:l,mutateSavedForLaterCart:u,primaryCart:c,savedForLaterCart:d,withDialog:v=!0,licenseId:f,licensePrice:p,pageSection:h,listId:g}=e;if(m(t),y(o),b(h),E(r),I(g),n&&_(n),i){O({itemsToMove:t,primaryCart:c,mutatePrimaryCart:l,mutateSavedForLaterCart:u});return}if(a){D({itemsToMove:t,primaryCart:c,savedForLaterCart:d,mutatePrimaryCart:l,mutateSavedForLaterCart:u});return}v?s(!0):k({assets:t,eventLabel:r,cart:c,licenseId:f,licensePrice:p,mutateCart:l,pageSection:h})},[k,O,D]),AddToCartViews:p}}},2882:function(e,t,r){r.d(t,{V:function(){return J}});var n,i=r(57460),a=r(38291),o=r(65940),l=r(17475),u=r(15556),s=r(76825),c=r(46558),d=r(23390),v=r(51119),m=r(81862),f=r(32212),p=r(28603),_=r(59581),h=r(19748),y=r(68078),g=r(37091),b=r(71629),S=r(42193),I=r(90645),T=r(73467),E=r(26481),w=r(62223),C=r(15306),A=r(75615),P=r(2784),R=r(3255),L=r(2300),k=e=>{var{queryParams:t}=e;return(0,f.nS)({queryParams:t}).formattedUrl},O=e=>{var{assetId:t,asset:{id:r,tier:n=10,src:i,aspect:a,width:o,height:l}}=e;return{metadata:{notes:{media_id:t,alpha_num_id:r,rex_id:r,media_type:_.gP,tier:n,media:{aspect:a,width:o,height:l,url:i}}}}},D=(n=(0,m._)(function*(e){var t,{isRexEditorial:r,collectionId:n,verificationCode:i,setAsCover:a,firstAsset:o,collectionType:l}=e,u=(0,s.A8)(o);if(u===_.VT){var c=(0,f.Yz)({queryParams:{id:n,verificationCode:i,collectionType:l}}).formattedUrl,d=yield C.uS.get(c).then(e=>(0,A.O)(e.data)||{});if(!(null==d?void 0:null===(t=d.coverItem)||void 0===t?void 0:t.id)){var v=(0,s.OP)({asset:o,isRexEditorial:r}),m=(0,S.Q)({collectionId:n,mappedAssetType:u,assetId:v});yield a({collection:{id:n},mediaItem:{id:m}})}}}),function(e){return n.apply(this,arguments)}),x=()=>{var e,[t,r]=(0,P.useState)({status:"",error:void 0}),[n,a]=(0,P.useState)(""),[o,l]=(0,P.useState)(""),u=(0,T.J)(),{setAsCover:c}=(0,L.w)(),{isBrandSstk:d}=(0,E.D)(),{analytics:v}=(0,w.yh)(),A=(0,g.UM)(v),{mutate:x}=(0,R.kY)();return{add:(0,P.useCallback)((e=(0,m._)(function*(e){var{assets:t,assetType:n,gridItems:o,groupedOptions:v,id:m,title:g,verificationCode:T,pageSection:E,listId:w}=e,P=(0,b.wZ)({assetType:n,isBrandSstk:d});try{r({status:p.MR,error:void 0});var R=(0,s.Xo)(n),L=m,F=T;if(v&&v.length){var V=v.find(e=>{var{title:t}=e;return t===g});V&&(L=V.id,F=V.verificationCode)}if(!L){var N=(0,f.A6)().formattedUrl,U={data:{attributes:{title:g,collectionType:P,isPublic:!1},type:h.Ul}},{data:{id:j,attributes:{verificationCode:M}}}=yield C.uS.post(N,U);L=j,F=M}var B={data:t.map(e=>{var t=(0,s.OP)({asset:e,isRexEditorial:R}),r=(0,s.A8)(e);return(0,i._)({type:h.A8,id:(0,S.Q)({collectionId:L,mappedAssetType:r,assetId:t})},r===_.VT&&O({assetId:t,asset:e}))})},Y=(0,f.mp)({urlParams:{id:L},queryParams:{isRexEditorial:R}}).formattedUrl,z=(0,I.y)(A);yield C.uS.post(Y,B,z?{headers:{[y.as]:z}}:void 0);var q=t[0];yield D({isRexEditorial:R,collectionId:L,verificationCode:F,setAsCover:c,firstAsset:q,collectionType:P}),u({collectionId:L,collectionName:g,gridItems:o,assets:t,pageSection:E,listId:w}),a(L),l(F)}catch(e){r({status:p.cM,error:e})}finally{yield x(k({queryParams:{"filter[type]":P}}))}}),function(t){return e.apply(this,arguments)}),[d,A,c,u,x]),collectionId:n,setStatus:r,status:t,verificationCode:o}},F=r(53076),V=r(52322),N=r(75462),U=r(99067),j=r(25237),M=r.n(j),B=r(2281),Y=M()(()=>Promise.all([r.e(3764),r.e(81189),r.e(71182),r.e(54622),r.e(86162)]).then(r.bind(r,86162)).then(e=>e.CollectionModal),{loadableGenerated:{webpack:()=>[86162]},ssr:!1}),z=e=>{var{isOpen:t}=e,r=(0,B._)(e,["isOpen"]);return(0,U.B)(t)&&(0,V.jsx)(Y,(0,i._)({isOpen:t},r))},q=M()(()=>Promise.all([r.e(3764),r.e(81189),r.e(71182),r.e(48155),r.e(45056),r.e(22191)]).then(r.bind(r,84111)).then(e=>e.SaveSnackbarOrModal),{loadableGenerated:{webpack:()=>[84111]},ssr:!1}),H=M()(()=>r.e(59200).then(r.bind(r,59200)).then(e=>e.Snackbar),{loadableGenerated:{webpack:()=>[59200]},ssr:!1}),G=e=>{var{assets:t,assetType:r="",collectionId:n,collectionTitle:i,gridItems:a=null,isDialogActive:o,isSnackBarOpen:u,onAddToCollections:s,onAlertSnackbarClose:c,onAddToCollectionsComplete:d,redirectToCDPAction:v={},setIsDialogActive:m,showCopyToModalTitle:f,status:p,verificationCode:_,pageSection:h,isMoveTo:y}=e,g=(0,N.f)(),b=(0,U.B)(t),S=(0,P.useCallback)(()=>m(!1),[m]),{folders:I}=(0,l.c)();return b?!g&&o?I&&(0,V.jsx)(q,{onClose:S,setIsDialogActive:m,isOpen:o,items:t,onAddToCollectionsComplete:d,pageSection:h,isMoveTo:y}):(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(z,{assets:t,assetType:r,collectionId:n,gridItems:a,isOpen:o,onAddToCollections:s,setIsDialogActive:m,showCopyToModalTitle:f,pageSection:h,isMoveTo:y}),(0,V.jsx)(H,{assetType:r,collectionId:n,collectionTitle:i,isOpen:u,onAlertSnackbarClose:c,redirectToCDPAction:v,status:p,verificationCode:_})]}):null},Z=e=>[].concat(e),J=e=>{var{initialAssetType:t}=e,r=(0,o.r)(),[n,m]=(0,P.useState)(!1),[f,p]=(0,P.useState)(!1),[_,h]=(0,P.useState)(!1),[y,g]=(0,P.useState)(""),[b,S]=(0,P.useState)(null),[I,T]=(0,P.useState)(t),[E,w]=(0,P.useState)(null),[C,A]=(0,P.useState)(null),[R,L]=(0,P.useState)(!1),[k,O]=(0,P.useState)(null),[D,V]=(0,P.useState)({}),N=(0,F.B)(),U=(0,c.cM)(),j=(0,d.L)(),M=(0,v.d)(),{isModalOpen:B,handleCloseModal:Y,handleOpenModal:z}=(0,a.o)(),[q,H]=(0,P.useState)({shouldHandleRedirect:!1,redirectToCollectionDetailsPage:j}),{add:J,status:Q,collectionId:K,verificationCode:W}=x(),{setIsSaveInProgress:$,setDisableFetch:X}=(0,l.c)();(0,P.useEffect)(()=>()=>S(null),[]),(0,P.useEffect)(()=>()=>T(""),[]);var ee=(0,P.useCallback)(e=>{var{formattedAssets:t,gridItems:r,isCopyToCollection:n,mappedAssetType:i,redirectToCollectionDetailsPage:a,pageSection:o,listId:l,isMoveToAction:u}=e;T(i),S(t),A(o),O(l),L(u),n&&h(!0),r&&w(r),a&&H({shouldHandleRedirect:!0,redirectToCollectionDetailsPage:a}),m(!0)},[]),et=(0,P.useMemo)(()=>({assets:b,pageSection:C,assetType:I,collectionId:K,collectionTitle:y,gridItems:E,isDialogActive:n,isSnackBarOpen:f,onAddToCollections:e=>{var{id:t,title:r,verificationCode:n,groupedOptions:i,pageSection:a}=e;return g(r),m(!1),p(!0),J({assetType:I,assets:b,gridItems:E,groupedOptions:i,id:t,title:r,verificationCode:n,pageSection:a||C,listId:k})},onAlertSnackbarClose:()=>p(!1),redirectToCDPAction:q,setIsDialogActive:m,showCopyToModalTitle:_,status:Q,verificationCode:W,isMoveTo:R}),[b,E,J,k,C,I,K,y,n,f,q,_,Q,W,R]),er=(0,P.useCallback)(e=>{var{assets:t,gridItems:n,isCopyToCollection:a=!1,redirectToCollectionDetailsPage:o,pageSection:l,listId:c,openModal:d=!1,cta:v="",isMoveToAction:m=!1}=e;if(N){X(!1),$(!0);var f=Z(t);ee({formattedAssets:f,gridItems:n,isCopyToCollection:a,mappedAssetType:(0,s.A8)(f[0]),redirectToCollectionDetailsPage:o,pageSection:l,isMoveToAction:m,listId:c})}else d&&!M?(V((0,i._)({cta:v},t&&{assets:t},n&&{gridItems:n})),t&&window.sessionStorage.setItem(u.Iz,JSON.stringify(t)),n&&window.sessionStorage.setItem(u.em,JSON.stringify(n)),(null==r?void 0:r.current)&&(r.current.isInProgress=!1,r.current.complete()),z()):(0,u.JO)({assets:t,gridItems:n,signUpPath:U})},[N,M,X,$,ee,r,z,U]),en=e=>e&&"undefined"!==e,ei=(0,P.useCallback)(()=>{var e=window.sessionStorage.getItem(u.Iz),t=window.sessionStorage.getItem(u.em);en(e)&&en(t)&&er({assets:JSON.parse(e),gridItems:JSON.parse(t),redirectToCollectionDetailsPage:!1}),window.sessionStorage.removeItem(u.cy),window.sessionStorage.removeItem(u.Iz),window.sessionStorage.removeItem(u.em)},[er]);return(0,P.useEffect)(()=>{var e=window.sessionStorage.getItem(u.cy);en(e)&&JSON.parse(e)?N&&ei():(0,u.DZ)({showAddToCollectionModal:ee,isLoggedInUser:N})},[ei,N,ee]),{addToCollectionViewsProps:et,addToCollectionViewsHandler:er,AddToCollectionViews:G,isModalOpen:B,handleCloseModal:Y,collectionProps:D}}},85787:function(e,t,r){r.d(t,{r:function(){return L}});var n=r(81862),i=r(52850),a=r(6006),o=r(71629),l=r(666),u=r(9870),s=r(31118),c=r(95152),d=r(79428),v=r(2784),m=r(52322),f=r(25365),p=r(57460),_=r(2281),h=r(99067),y=r(25237),g=r.n(y),b=g()(()=>Promise.all([r.e(3764),r.e(45666)]).then(r.bind(r,45666)).then(e=>e.CompLicensingDialog),{loadableGenerated:{webpack:()=>[45666]},ssr:!1}),S=e=>{var{isOpen:t}=e,r=(0,_._)(e,["isOpen"]);return(0,h.B)(t)&&(0,m.jsx)(b,(0,p._)({isOpen:t},r))},I=g()(()=>Promise.all([r.e(3764),r.e(81189),r.e(73526),r.e(55540),r.e(69320)]).then(r.bind(r,68372)).then(e=>e.CompLicensingDrawer),{loadableGenerated:{webpack:()=>[68372]},ssr:!1}),T=e=>{var{isOpen:t}=e,r=(0,_._)(e,["isOpen"]);return(0,h.B)(t)&&(0,m.jsx)(I,(0,p._)({isOpen:t},r))},E=g()(()=>r.e(32215).then(r.bind(r,32215)).then(e=>e.CompLicensingSnackbar),{loadableGenerated:{webpack:()=>[32215]},ssr:!1}),w=e=>{var{isOpen:t}=e,r=(0,_._)(e,["isOpen"]);return(0,h.B)(t)&&(0,m.jsx)(E,(0,p._)({isOpen:t},r))},C=r(28007),A=function(){var{licensingError:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{t}=(0,d.$G)(i.clK);return{cancel:t("common:actions_cancel"),downloadComp:t("common:actions_download_comp"),enterpriseCompLicense:t("ent:license_enterprise_comp"),genericErrorMessage:t("ent:license_now_error_message"),licensingError:(0,C.j2)({error:e,t}),licenseSuccess:t("ent:confirmation_alert_message"),licenseFormLabels:{buttonLabel:t("common:actions_download_comp"),disclaimer:(0,m.jsx)(d.cC,{i18nKey:"ent:comp_disclaimer",ns:i.clK,components:{bold:(0,m.jsx)("strong",{})}}),addMetadataToAsset:t("ent:add_metadata_to_asset_comp"),metadataFound:t("ent:previous_metadata_found_comp"),metadataMissing:t("ent:previous_metadata_missing_comp"),title:t("ent:add_metadata_to_comp")}}},P=e=>{var{assets:t=null,compLicensingHandler:r,isDialogOpen:n=!1,isDrawerOpen:i=!1,isLicensing:a=!1,isSnackBarOpen:o=!1,licensingError:l=f.FD,onDialogClose:u,onDrawerClose:s,onSnackbarClose:c,selectedAssetSize:d="",setSelectedAssetSize:v,settingsData:p=f.FD}=e,_=A({licensingError:l});return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(S,{assets:t,isOpen:n,onClose:u,onLicense:r,labels:_,isLicensing:a,selectedAssetSize:d,setSelectedAssetSize:v,settingsData:p}),(0,m.jsx)(T,{assets:t,isLicensing:a,isOpen:i,labels:_,onClose:s,onLicense:r,selectedAssetSize:d}),(0,m.jsx)(w,{isOpen:o,message:_.licensingError,onClose:c})]})},R=r(35458),L=function(){var e,t,{allowMetadata:r=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[m,f]=(0,v.useState)(null),[p,_]=(0,v.useState)(""),[h,y]=(0,v.useState)(""),[g,b]=(0,v.useState)(!1),[S,I]=(0,v.useState)(!1),[T,E]=(0,v.useState)(!1),{isLicensing:w,licensingError:C,licensingStatus:A,setLicensingStatus:L,licensingAssetsHandler:k}=(0,s.Zo)(),O=(0,l.U)(),{data:D}=(0,c.B)(),x=(0,u.h)(D),F=(0,a.v)(),{t:V}=(0,d.$G)(i.PeY),N=V("file_name_edited"),U=(0,v.useCallback)((e=(0,n._)(function*(e){var{assets:t=[],assetSize:r,eventLabel:n,format:i,metadata:a,pageSection:o,listId:l}=e;_(t[0].id);var u=!1;try{var s=yield(0,R.qP)({assets:t,assetSize:r,format:i,metadata:a,selectedAssetSize:h}),{data:c}=yield k(s);if(!((0,R.bj)(t)&&1===t.length)){var d,v,m=(0,R.aT)(t)?x:void 0,f=(null==F?void 0:null===(d=F.current)||void 0===d?void 0:d.isPeacock)?e=>{var r;return F.current.downloader.resolveUrl(t[0],e,N,null==c?void 0:null===(r=c.meta)||void 0===r?void 0:r.licensedContent)}:void 0;yield(0,R.tX)({assets:t,compSize:m,licensedContent:null==c?void 0:null===(v=c.meta)||void 0===v?void 0:v.licensedContent,downloader:f}),O({assets:t,eventLabel:n,isRedownload:!1,isQuickDownload:!1,isPaid:!1,isComp:!0,pageSection:o,listId:l})}}catch(e){u=e}return _(""),u&&!S&&E(!0),{error:u}}),function(t){return e.apply(this,arguments)}),[S,x,k,O,h,N,F]),j=(0,v.useCallback)((t=(0,n._)(function*(e){var{assets:t,assetSize:n,format:i,eventLabel:a,metadata:l,pageSection:u,listId:s}=e;return(f(t),L(""),!g&&(0,o.U0)(t))?(b(!0),Promise.resolve(null)):!S&&(null==D?void 0:D.requireMetadataForComp)&&!l&&r?(n&&y(n),I(!0),Promise.resolve(null)):U({assets:t,assetSize:n,eventLabel:a,format:i,metadata:l,pageSection:u,listId:s})}),function(e){return t.apply(this,arguments)}),[r,U,g,S,D,L]),M=(0,v.useMemo)(()=>({assets:m,compLicensingHandler:j,compLicensingRequest:U,isDialogOpen:g,isDrawerOpen:S,isLicensing:w,isSnackBarOpen:T,licensingError:C,onDialogClose:()=>b(!1),onDrawerClose:()=>I(!1),onSnackbarClose:()=>E(!1),selectedAssetSize:h,setSelectedAssetSize:y,settingsData:D}),[m,j,U,g,S,w,T,C,h,D]);return{assetsToLicense:m,compLicensingHandler:j,compLicensingProps:M,CompLicensingViews:P,licensingAssetId:p,licensingStatus:A}}},35458:function(e,t,r){r.d(t,{SN:function(){return g},aT:function(){return w},bj:function(){return E},qP:function(){return T},tX:function(){return b}});var n,i,a,o,l=r(81862),u=r(57460),s=r(6692),c=r(81146),d=r(32212),v=r(59581),m=r(56364),f=r(8311),p=r(79239),_=r(76825),h=r(63380),y=r(15306),g=(n=(0,l._)(function*(e){var{assets:t,compSize:r,licensedContent:n,supplementalUrlType:i}=e,{downloadUrl:a,contentId:o,contentFormat:l,contentSize:u,supplementalUrls:s}=n[0]||{};if((null==s?void 0:s.length)&&i){var{url:c=a}=s.find(e=>{var{type:t}=e;return t===i})||{};return c}var v=t.find(e=>{var{id:t}=e;return t===o})||{},m=(0,_.Tp)(v),{filename:p,shouldUpdateFilename:h}=(0,f.G)({assets:t,contentId:o});if(h)try{var{data:g}=yield y.uS.post((0,d.u8)().formattedUrl,{data:[{media_id:v.id,media_type:m,comp_size:r,media_size:u,media_format:l,filename:p}]}),{attributes:b}=(null==g?void 0:g.data[0])||{};return b.url||a}catch(e){}return a}),function(e){return n.apply(this,arguments)}),b=(i=(0,l._)(function*(e){var{assets:t=[],compSize:r,assetSize:n,licensedContent:i=[],downloader:a=h.A_}=e;if(i.length>1){var o=(0,f.r)({assets:t,licensedContent:i}),l=(0,c.e)({urlParams:{filename:o.bundleFilename}}).formattedUrl,{data:u}=yield y.jl.post(l,o.content),{public_url:s}=u;return a(s)}return a((yield g({assets:t,compSize:r,assetSize:n,licensedContent:i})))}),function(e){return i.apply(this,arguments)}),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(e=>{var t=(0,p.Fy)({asset:e});return(0,s._)((0,u._)({},e),{assetType:t,licenseId:m._rW[t]})})},I=(a=(0,l._)(function*(){var{url:e}=(0,d.d0)();try{return(yield y.uS.get(e).then(e=>null==e?void 0:e.data)).reduce((e,t)=>(0,s._)((0,u._)({},e),{[t.name]:"-"}),{})}catch(e){return{}}}),function(){return a.apply(this,arguments)}),T=(o=(0,l._)(function*(){var{assets:e,assetSize:t,format:r,metadata:n,selectedAssetSize:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n;return a||(a=yield I()),{assets:S(e),format:r||"",licenseMetadata:a,licensingType:m.dWU,selectedAssetSize:t||i||"",isVideoComp:!0}}),function(){return o.apply(this,arguments)}),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,p.qw)({asset:e[0]||{}})===v.j0},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[v.pV,v.k4,v.ox].includes((0,p.qw)({asset:e[0]||{}}))}},95891:function(e,t,r){r.d(t,{s:function(){return d}});var n=r(57460),i=r(6692),a=r(52322),o=r(73378),l=r(59581),u=r(62223),s=r(5632),c=r(6829),d=e=>{var{query:{image_type:t}}=(0,s.useRouter)(),r=t===l.e3,{NoSearchResultsComponent:d}=(0,c.K)(e);return(0,a.jsx)(u.Mp,{value:o.FtT,children:(0,a.jsx)(d,(0,i._)((0,n._)({},e),{hasGeneratedFilterApplied:r}))})}},21516:function(e,t,r){r.d(t,{B:function(){return n},Z:function(){return i}});var n="noSearchResultsWithImages",i="noSearchResults"},6829:function(e,t,r){r.d(t,{K:function(){return d}});var n=r(21516),i=r(59581),a=r(5572),o=r(25237),l=r.n(o),u=r(5632),s=l()(()=>r.e(45813).then(r.bind(r,45813)).then(e=>e.NoSearchResults),{loadableGenerated:{webpack:()=>[45813]},ssr:!1}),c=l()(()=>Promise.all([r.e(3764),r.e(52171)]).then(r.bind(r,52171)).then(e=>e.NoSearchResultsWithImages),{loadableGenerated:{webpack:()=>[52171]},ssr:!1}),d=e=>{var[t]=(0,a.Q3)(),{query:{image_type:r}}=(0,u.useRouter)(),o=r===i.e3,{assetType:l,withGeneratedImages:d,isChildSafe:v}=e,m=l===i.k4&&d&&(o||!t)&&v?n.B:n.Z;return{NoSearchResultsComponent:m===n.B?c:s,noResultPageType:m}}},12778:function(e,t,r){r.r(t),r.d(t,{SignUpModal:function(){return P}});var n=r(57460),i=r(6692),a=r(52322),o=r(37862),l=r(58488),u=r(94916),s=r(7706),c=r(52850),d=r(1885),v=r(11346),m=r(15556),f=r(46558),p=r(18793),_=r(26631),h=r(5042),y=r(62980),g=r(58140),b=r(72358),S=r(5632),I=r(79428),T=r(2784),E=r(34258),w=(0,r(98116).ZL)()(e=>{var{tokens:{font:t,spacing:r,zIndex:n,color:i}}=e;return{loaderContainer:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:800,position:"absolute",top:0,left:0,zIndex:n["5"],backgroundColor:i.white},flexRoot:{display:"flex",alignItems:"stretch",height:"100%",width:E.Jv},flexChild:{flex:1,maxWidth:"50%",width:E.Jv/2,padding:r.s},divider:{height:"auto"},sectionHeading:{fontSize:t.size["3xl"],color:i.gray["onyx-87"],marginBottom:r.m,fontWeight:t.weight.bold,zIndex:n["2"],position:"relative",lineHeight:r.l},sectionSubHeading:{display:"flex",width:"100%",color:i.gray["onyx-60"],marginBottom:r.m,alignItems:"center"},iconContainer:{marginRight:r.m,display:"flex"}}}),C=e=>{var{bannerData:t}=e,{classes:r}=w(),{t:n}=(0,I.$G)(c.kJP);return(0,a.jsxs)(l.Z,{className:r.flexChild,children:[(0,a.jsx)(u.Z,{className:r.sectionHeading,component:"h1",align:"left",children:n("signup_modal_access_exclusive_features")}),t.map(e=>{var{icon:t,text:i}=e;return(0,a.jsxs)(u.Z,{className:r.sectionSubHeading,component:"p",variant:"body1",align:"left",children:[(0,a.jsx)("span",{className:r.iconContainer,children:t}),n(i)]},i)})]})},A=[{icon:(0,a.jsx)(y.r,{}),text:"save_sort_collection"},{icon:(0,a.jsx)(g.Share,{}),text:"share_collections"},{icon:(0,a.jsx)(h.I,{}),text:"try_before_purchase"},{icon:(0,a.jsx)(b.Visibility,{}),text:"keep_track_history"}],P=e=>{var{modalIsOpen:t,handleClose:r,collectionProps:h,iframeTitle:y="SignIn",landingPage:g}=e,[b,E]=(0,T.useState)(!1),P=(0,_.d)(),{locale:R,asPath:L}=(0,S.useRouter)(),{t:k}=(0,I.$G)(c.kJP),{classes:O}=w(),D=(0,f.cM)({landing_page:v._I,embedded:!0,preset:"cvrt837",hl:R}),x=e=>{var t,a,o,l,u="".concat("en"!==R?"/".concat(R):"").concat(e||L),s=new URL(u,null===(a=window)||void 0===a?void 0:null===(t=a.location)||void 0===t?void 0:t.origin);P({actionName:"convert - signup from modal successful"}),null===(l=window.NREUM)||void 0===l||null===(o=l.addPageAction)||void 0===o||o.call(l,"UP3-1623 assign useTryButton url to href",(0,i._)((0,n._)({},window.location||{}),{locale:R,relativeURL:u})),window.location.href=s.toString(),r()},F=()=>{if((null==h?void 0:h.cta)===m.LE){var{assets:e,gridItems:t}=h;e&&window.sessionStorage.setItem(m.Iz,JSON.stringify(e)),t&&window.sessionStorage.setItem(m.em,JSON.stringify(t))}},V=(0,T.useCallback)(()=>{window.sessionStorage.removeItem(m.cy),r()},[r]),{isAuthSuccess:N}=(0,p.Q)();return N&&t&&(g&&x(g),x()),(0,a.jsxs)(d.ThemedDialog,{open:t,onClose:V,maxWidth:"lg",width:"lg",themeModeOverride:void 0,children:[(0,a.jsxs)("div",{className:O.flexRoot,children:[(0,a.jsx)(C,{bannerData:A}),(0,a.jsx)(o.Z,{className:O.divider,orientation:"vertical"}),(0,a.jsxs)(l.Z,{className:O.flexChild,children:[(0,a.jsx)(u.Z,{className:O.sectionHeading,component:"h1",align:"left",pl:4,children:k("generate:create_free_account")}),(0,a.jsx)("iframe",{onLoad:e=>{e.preventDefault(),E(!0),window.sessionStorage.setItem(m.cy,JSON.stringify(!0)),F()},style:{height:600,border:"none",width:"100%",overflow:"none"},title:y,src:D,loading:"eager"})]})]}),!b&&(0,a.jsx)(l.Z,{className:O.loaderContainer,children:(0,a.jsx)(s.Z,{color:"inherit",size:60,disableShrink:!0})})]})}},38291:function(e,t,r){r.d(t,{o:function(){return a}});var n=r(26631),i=r(2784),a=()=>{var[e,t]=(0,i.useState)(!1),r=(0,n.d)();return{isModalOpen:e,handleOpenModal:()=>{r({actionName:"convert - signup modal opened"}),t(!0)},handleCloseModal:()=>{t(!1)}}}},35326:function(e,t,r){r.r(t),r.d(t,{DynamicSnackbar:function(){return d}});var n=r(52322),i=r(28603),a=r(25365),o=r(25237),l=r.n(o),u=r(2784),s=r(79840),c=l()(()=>r.e(20496).then(r.bind(r,23367)).then(e=>e.Snackbar),{loadableGenerated:{webpack:()=>[23367]},ssr:!1}),d=e=>{var{alertAction:t={},alertSeverity:r=i.H_,error:o,handleSnackbarClose:l=a.ZT,isOpen:d,message:v="",onSnackbarExited:m=a.ZT,isDismissible:f=!0,anchorOrigin:p=s.rX}=e,[_,h]=(0,u.useState)(!1);return(0,n.jsx)(n.Fragment,{children:d||_?(0,n.jsx)(c,{alertAction:t,alertSeverity:r,error:o,handleSnackbarClose:l,isOpen:d,message:v,onSnackbarExited:m,setEntered:h,isDismissible:f,anchorOrigin:p},v):null})}},99414:function(e,t,r){r.d(t,{q:function(){return o}});var n=r(56236),i=r(98761),a=r(51119),o=()=>{var e=(0,a.d)(),t=(0,i.W)(),{openQuickViewCart:r}=(0,n.P)();return{viewCartAction:e?t:r}}},35601:function(e,t,r){r.d(t,{ZH:function(){return l},er:function(){return o}});var n=r(52322),i=r(2784),a=(0,i.createContext)(void 0),o=e=>{var{children:t}=e,[r,o]=(0,i.useState)(!1),l=()=>(0,i.startTransition)(()=>o(!0)),u=()=>(0,i.startTransition)(()=>o(!1)),s=(0,i.useMemo)(()=>({openFilterDrawer:l,closeFilterDrawer:u,isDrawerOpen:r}),[r]);return(0,n.jsx)(a.Provider,{value:s,children:t})},l=function(){var{explicitOptOut:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,i.useContext)(a);if(e)return{};if(void 0===t)throw Error("useBottomSheetContext must be used within a BottomSheetProvider");return t}},76053:function(e,t,r){r.d(t,{J:function(){return o}});var n=r(25365),i=r(2784),a={applyCanvasViewed:n.ZT,applyToolAnalytics:n.ZT,emitEditProductAnalyticsEvent:n.Au},o=(0,i.createContext)(a)},22705:function(e,t,r){r.d(t,{k:function(){return a}});var n=r(2784),i=r(76053),a=()=>(0,n.useContext)(i.J)},8311:function(e,t,r){r.d(t,{G:function(){return u},r:function(){return s}});var n=r(76825),i=r(55293),a="shutterstock",o="shutterstock_editorial",l=e=>{var{asset:t}=e;return(0,n.PD)(t)?{prefix:"shutterstock_offset",shouldUpdateFilename:!0}:(0,n.tS)({asset:t})?{prefix:o,shouldUpdateFilename:!1}:{prefix:a,shouldUpdateFilename:!1}},u=e=>{var{assets:t,contentId:r}=e,{prefix:n,shouldUpdateFilename:i}=l({asset:t.find(e=>{var{id:t}=e;return t===r})||{}});return{filename:"".concat(n,"_").concat(r),shouldUpdateFilename:i}},s=e=>{var{assets:t=[],licensedContent:r=[]}=e,l=t.every(e=>(0,n.tS)({asset:e})),s=r.map(e=>{var{contentId:r,downloadUrl:n,contentFormat:i}=e,{filename:a}=u({assets:t,contentId:r}),o=n.split("/").pop().split(".").pop();return(o.length>4||o.length<2)&&(o=i),{filename:"".concat(a,".").concat(o),url:n}}),c=(0,i.zs)();return{bundleFilename:"".concat(l?o:a,"_").concat(c,".zip"),content:s}}},64387:function(e,t,r){r.d(t,{bI:function(){return o},n_:function(){return l}});var n=r(70314),i=r.n(n),a=e=>{var{name:t}=e,{publicRuntimeConfig:{campaign:r}}=i()();return(null==r?void 0:r[t])||null},o=e=>{var{publicRuntimeConfig:{assets:{cdnHostURL:t}}}=i()();if(t&&e.id)return"".concat(t,"/").concat("dream/photos","/").concat(e.id,".jpg")},l=e=>{var t,{contributorId:r}=e,n=null===(t=a({name:"dream"}))||void 0===t?void 0:t.contributorId;return!!n&&(Array.isArray(n)||(n=[n]),!!r&&n.includes(Number(r)))}},71076:function(e,t,r){r.d(t,{$6:function(){return y},GA:function(){return m},Hg:function(){return d},Jj:function(){return b},KK:function(){return f},P1:function(){return E},Tw:function(){return g},c:function(){return T},tU:function(){return v}});var n=r(57460),i=r(6692),a=r(59581),o=r(67148),l=r(63325),u=r(71870),s=r(28007),c=r(76825),d=e=>{var{licenseName:t,cartData:r,asset:n}=e;return t?!!(null==r?void 0:r.items.find(e=>e.id===(null==n?void 0:n.id)&&e.licenseId===t)):!!(null==r?void 0:r.items.find(e=>e.id===(null==n?void 0:n.id)))},v=e=>{var{asset:t,unavailableAssets:r}=e;return!r.find(e=>e.contentId===(0,c.OP)({asset:t})&&e.contentType===t.type)},m=function(){var{errors:e=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.some(e=>l.Gu.includes(e))},f=e=>{var{cachedCart:t,newItems:r}=e,a=[...(null==t?void 0:t.items)||[],...r];return(0,i._)((0,n._)({},t),{items:a,count:a.length})},p=e=>{var{item:t,licensedAssets:r}=e;return(null==r?void 0:r.find(e=>{var{contentId:r}=e;return r===String(t.id)}))?0:t.isUnlimited?.1:parseFloat(t.price)},_=e=>{var{item1:t={},item2:r={},sortOrder:n,licensedAssets:i}=e,a=p({item:t,licensedAssets:i}),o=p({item:r,licensedAssets:i});return n===u.sl?a-o:o-a},h=e=>{var{item1:t,item2:r,sortField:n="addedTime",sortOrder:i}=e;return i===u.sl?Number(new Date(r[n]))-Number(new Date(t[n])):Number(new Date(t[n]))-Number(new Date(r[n]))},y=e=>{var{primaryCart:t,sortField:r,sortOrder:n,alreadyLicensedPrimaryAssets:i}=e;return t.sort((e,t)=>r===o.TK.ADDED_TIME?h({item1:e,item2:t,sortField:r,sortOrder:n}):_({item1:e,item2:t,sortField:r,sortOrder:n,licensedAssets:i}))},g=e=>{var t,{rolodexAddress:r}=e,[n,i]=(null===(t=r.streetLines)||void 0===t?void 0:t.split("\n"))||[],{locality:a,postalCode:o,region:l,country:u,company:s}=r;return{country:u,company:s,city:a,zip:o,state:l,address1:n,address2:i}},b=e=>{var t,{billingEntity:r}=e;return(null==r?void 0:null===(t=r.rolodexAddresses)||void 0===t?void 0:t.find(e=>{var t;return"licensing"===e.addressType||(null===(t=e.usages)||void 0===t?void 0:t.includes("licensing"))}))||{}},S=e=>{var{asset:t,alreadyLicensedAssets:r}=e;return(null==t?void 0:t.price)===a.q9||(0,s.te)({alreadyLicensedAssets:r,asset:t})},I=e=>{var{acc:t,asset:r,alreadyLicensedAssets:n}=e;return S({asset:r,alreadyLicensedAssets:n})?t:t+parseFloat(null==r?void 0:r.price)},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t?e.filter(e=>{var{isUnavailableAsset:t}=e;return!t}).reduce((e,r)=>I({acc:e,asset:r,alreadyLicensedAssets:t}),0):0},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.every(e=>{var{price:t}=e;return t===a.q9})?a.q9:T(e,t)}},15556:function(e,t,r){r.d(t,{DZ:function(){return s},Iz:function(){return i},JO:function(){return u},LE:function(){return o},cy:function(){return l},em:function(){return a}});var n=r(76825),i="add_to_collection_asset",a="add_to_collection_grid_items",o="Save",l="save_to_collection",u=e=>{var{assets:t,gridItems:r,signUpPath:n}=e;window&&(t&&window.sessionStorage.setItem(i,JSON.stringify(t)),r&&window.sessionStorage.setItem(a,JSON.stringify(r)),window.location=n)},s=e=>{var{showAddToCollectionModal:t,isLoggedInUser:r}=e;if(void 0!==r){if(r){let e;var o=window.sessionStorage.getItem(i),l=window.sessionStorage.getItem(a);if(o&&"undefined"!==o&&(e=l)&&"undefined"!==e){var u=JSON.parse(o),s=JSON.parse(l),c=[].concat(u);t({formattedAssets:c,gridItems:s,mappedAssetType:(0,n.A8)(c[0]),isCopyToCollection:!1,redirectToCollectionDetailsPage:!1})}}window.sessionStorage.removeItem(i),window.sessionStorage.removeItem(a)}}},71629:function(e,t,r){r.d(t,{$m:function(){return g},Ak:function(){return f},Ck:function(){return b},E4:function(){return I},Nb:function(){return v},U0:function(){return S},WP:function(){return y},fg:function(){return m},w4:function(){return h},wZ:function(){return T}});var n=r(57460),i=r(6692),a=r(51687),o=r(59581),l=r(19748),u=r(63770),s=r(37091),c=r(79041),d=r(76825),v=e=>"Untitled"===e,m=function(){var{items:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&0===e.length},f=e=>{var t=!(null==e?void 0:e.role)&&!(null==e?void 0:e.isPublic);return(null==e?void 0:e.role)===u.ad||t},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{id:t=""}=e,[,r,n]=t.split("-");return{id:n,type:r===o.j0?o.xF:r,aspect:1,src:"",previewImageUrl:""}},_=function(){var e,t,{metadata:r={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r.tracking){try{e=(0,s.Be)({trackingId:null===(t=JSON.parse(r.tracking))||void 0===t?void 0:t.search})}catch(t){e=(0,s.Be)({trackingId:r.tracking})}return(0,n._)({search_context:e},i)}return i},h=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(null===(e=t.mediaItem)||void 0===e?void 0:e.id)?(0,c.Sw)(t.mediaItem):r&&p(t)},y=(e,t)=>e?e.reduce((e,r)=>{var a=h(r,t);return e.collectionItems.push((0,i._)((0,n._)({},r),{mediaItem:(0,i._)((0,n._)({},a),{meta:_(r,null==r?void 0:r.meta)})})),a&&e.mediaItems.push((0,i._)((0,n._)({},a),{meta:_(r,null==a?void 0:a.meta)})),e},{collectionItems:[],mediaItems:[]}):{collectionItems:e},g=e=>{var{assetType:t,t:r,totalItemCount:n}=e,i=t===o.gP,a=1===n,l=i?"ent:collection_editorial_total_single":"feature-collections:number_".concat(o.d_[t],"_single"),u=i?"ent:collection_editorial_total_plural":"feature-collections:number_".concat(o.d_[t],"_plural");return r(a?l:u,{NUM_TRACKS:n})},b=e=>{var{t,formatter:r,date:n}=e;if(!r||!n)return"";try{return t("footage:directors_choice_list_collection_card_edited_date",{DATE:r(new Date(n))})}catch(e){return console.error(e),""}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!!e.find(e=>e.type===l.A8)},I=e=>{var{assets:t=[],assetType:r}=e;switch(r){case o.xF:case o.j0:return t.some(e=>(0,d.O)({track:e}));case o.k4:return t.some(e=>(0,d.PD)(e));default:return!1}},T=e=>{var{assetType:t,isBrandSstk:r}=e;return r?a.p[t]:l.sE[t]}},64911:function(e,t,r){r.d(t,{aA:function(){return c},xD:function(){return d}});var n=r(57460),i=r(6692),a={Newsroom:{},News:{},Sports:{},Entertainment:{},Archival:{},Royalty:{},Fashion:{}},o={categories:{Actor:{},Actress:{},Animal:{},Art:{},Artist:{},Awards:{},"British Politician":{},"British Royalty":{},Businessman:{},Businessperson:{},Businesswoman:{},Celebrity:{},Chef:{},Comedian:{},Comedienne:{},Crime:{},Demonstration:{},Disaster:{},"Disaster & Emergency":{},"Disc Jockey":{},DJ:{},Exclusive:{},"Fashion Designer":{},"Film Director":{},"Film Producer":{},"Film Stills":{},Food:{},"Food & Drink":{},"Football Player":{},FSelect:{},Geography:{},Glamour:{},Group:{},Health:{},Historical:{},Humour:{},Industry:{},Medical:{},Military:{},"Model Released":{},Model:{},Music:{},Newscaster:{},Newsreader:{},"News Reader":{},Nostalgia:{},"Out & About":{},Party:{},Photographer:{},Play:{},Police:{},Politician:{},Pop:{},Posed:{},Posing:{},Premiere:{},PSBig:{},PSSmall:{},"Racing Driver":{},"Radio Presenter":{},"Reality TV Star":{},"Red Carpet":{},Religion:{},Science:{},Socialite:{},Sport:{},Sportsman:{},Sportsperson:{},Sportswoman:{},"Sports Person":{},Star:{},Stock:{},Studio:{},Television:{},"Television Show":{},"Tennis Player":{},Theater:{},Theatre:{},Transport:{},Travel:{},"TV Personality":{},"TV Presenter":{},"War & Conflict":{},Writer:{}},people:{Alone:{},"With Others":{}},orientation:{Landscape:{},Portrait:{}},gender:{Female:{},Male:{}},personality:{Personality:{},"Not-Personality":{}},performing:{Performing:{},"Not-Performing":{}},shotType:{"Full Length":{},Headshot:{}}},l=e=>{var{category:t}=e,r=t.replace(/ & /g," ").replace(/ /g,"_").toLowerCase();return"ent:filters_editorial_category_".concat(r)},u=e=>{var{categories:t}=e;return Object.keys(t).map(e=>({label:l({category:e}),value:e}))},s=e=>{var{type:t}=e;return t&&o[t]&&u({categories:o[t]})},c=Object.keys(o).reduce((e,t)=>(0,i._)((0,n._)({},e),{[t]:s({type:t})}),{}),d=()=>[{label:"ent:filters_editorial_all_content",isDefault:!0},...u({categories:a})]},4087:function(e,t,r){r.r(t),r.d(t,{attendees:function(){return n}});var n={primaryText:"ent:filters_editorial_attendees",urlValue:"attendees",apiQuery:"filter[attendees]",buildApiValue:e=>e,getPillLabel:(e,t)=>{var{value:r}=t;return r},showInSearchBar:!0,defaultValue:""}},38778:function(e,t,r){r.r(t),r.d(t,{categories:function(){return o}});var n=r(64911),i=(0,n.xD)(),a=n.aA.categories,o={apiQuery:"filter[category]",defaultValue:[],buildApiValue:e=>e,placeholderCopy:"common:filters_category_more_title",primaryText:"common:filters_category_more_title",urlValue:"category",getPillLabel:(e,t)=>{var{t:r}=e,{label:n}=t;return r(n)},columnCount:2,showInSearchBar:!0,filters:[...i,...a],fixedFilters:i,autocompleteFilters:a}},61457:function(e,t,r){r.r(t),r.d(t,{collections:function(){return n}});var n={apiQuery:"filter[collectionId]",defaultValue:null,buildApiValue:e=>e,primaryText:"ent:filters_editorial_collections",getPillLabel:(e,t)=>{var{label:r}=t;return r},urlValue:r(71870).r,columnCount:2,showInSearchBar:!0,pillFilterOverride:{columnCount:3},filters:[]}},9775:function(e,t,r){r.r(t),r.d(t,{dateShot:function(){return l}});var n=r(92636),i=r(29824),a={DAY:{label:"1d"},WEEK:{label:"1w",value:{weeks:1}},MONTH:{label:"1m",value:{months:1}},YEAR:{label:"1y",value:{years:1}}},o=e=>{var{DAY:t,WEEK:r,MONTH:o,YEAR:l}=a,u={[t.label]:()=>new Date,[r.label]:()=>(0,n.Z)(new Date,r.value),[o.label]:()=>(0,n.Z)(new Date,o.value),[l.label]:()=>(0,n.Z)(new Date,l.value)};return(0,i.Z)(u[e](),"yyyy-MM-dd")||null},l={apiQuery:"filter[startDate]",defaultValue:null,buildApiValue:e=>o(e),primaryText:"ent:filters_editorial_date_shot",urlValue:"dateShot",getPillLabel:(e,t)=>{var{t:r}=e,{label:n}=t;return r(n)},columnCount:2,showInSearchBar:!0,pillFilterOverride:{primaryText:"ent:filters_editorial_dates"},filters:[{label:"ent:filters_editorial_all_dates",value:null,isDefault:!0},{label:"ent:filters_editorial_within_24_hours",value:a.DAY.label},{label:"ent:filters_editorial_within_1_week",value:a.WEEK.label},{label:"ent:filters_editorial_within_1_month",value:a.MONTH.label},{label:"ent:filters_editorial_within_1_year",value:a.YEAR.label}]}},16555:function(e,t,r){r.r(t),r.d(t,{endDate:function(){return n}});var n={primaryText:"ent:filters_editorial_custom_range",apiQuery:"filter[endDate]",buildApiValue:e=>e,getPillLabel:(e,t)=>{var{t:r}=e,{value:n}=t;return r("ent:filter_pill_end_date",{DATE:n})},label:"ent:end_date",showInSearchBar:!0,urlValue:"endDate",pillFilterOverride:{primaryText:null},defaultValue:null}},73597:function(e,t,r){r.r(t),r.d(t,{events:function(){return n}});var n={apiQuery:"filter[events]",buildApiValue:e=>e,getPillLabel:(e,t)=>{var{t:r}=e,{value:n}=t;return r("ent:filter_pill_event",{EVENT:n})},placeholderCopy:"common:filters_events",primaryText:"common:filters_events",showInSearchBar:!0,urlValue:r(71870).UQ,defaultValue:[]}},41708:function(e,t,r){r.d(t,{j:function(){return n}});var n={apiQuery:"filter[category]",defaultValue:null,buildApiValue:(e,t)=>{var{queryParams:{category:r}}=t;return"true"===String(e)?["Exclusive",r].filter(e=>e).join(","):r},primaryText:"ent:filters_exclusive",getHelperText:()=>"ent:filters_exclusive_legend",urlValue:r(71870).CB,getPillLabel:e=>{var{t}=e;return t("ent:filters_exclusive")},showInSearchBar:!0,filters:[{label:"true",value:"true"}]}},95576:function(e,t,r){r.d(t,{t:function(){return n}});var n={apiQuery:"rollup",buildApiValue:e=>"false"===String(e)?e:null,defaultValue:"true",primaryText:"ent:live_feed_folder_view",showInSearchBar:!1,urlValue:"folderView",filters:[]}},4488:function(e,t,r){r.r(t),r.d(t,{gender:function(){return n}});var n={apiQuery:"filter[category]",defaultValue:null,buildApiValue:()=>null,primaryText:"image:filters_gender",urlValue:"gender",getPillLabel:(e,t)=>{var{t:r}=e,{label:n}=t;return r(n)},columnCount:2,showInSearchBar:!0,filters:r(64911).aA.gender}},87421:function(e,t,r){r.r(t),r.d(t,{orientation:function(){return n}});var n={apiQuery:"filter[category]",defaultValue:null,buildApiValue:()=>null,primaryText:"common:filters_orientation",urlValue:"orientation",getPillLabel:(e,t)=>{var{t:r}=e,{label:n}=t;return r(n)},columnCount:2,showInSearchBar:!0,filters:r(64911).aA.orientation}},39059:function(e,t,r){r.r(t),r.d(t,{people:function(){return a}});var n=r(71870),i=r(64911),a={apiQuery:"filter[category]",defaultValue:null,buildApiValue:()=>null,primaryText:"common:filters_people",urlValue:n.Fv,getPillLabel:(e,t)=>{var{t:r}=e,{label:n}=t;return r(n)},columnCount:2,showInSearchBar:!0,filters:i.aA.people}},17319:function(e,t,r){r.r(t),r.d(t,{performing:function(){return n}});var n={apiQuery:"filter[category]",defaultValue:null,buildApiValue:()=>null,primaryText:"ent:filters_editorial_performance",urlValue:"performance",getPillLabel:(e,t)=>{var{t:r}=e,{label:n}=t;return r(n)},columnCount:2,showInSearchBar:!0,filters:r(64911).aA.performing}},93759:function(e,t,r){r.r(t),r.d(t,{personality:function(){return n}});var n={apiQuery:"filter[category]",defaultValue:null,buildApiValue:()=>null,primaryText:"ent:filters_editorial_category_personality",urlValue:"personality",getPillLabel:(e,t)=>{var{t:r}=e,{label:n}=t;return r(n)},columnCount:2,showInSearchBar:!0,filters:r(64911).aA.personality}},75529:function(e,t,r){r.r(t),r.d(t,{publicationRoot:function(){return u},valueToLabel:function(){return a}});var n=r(3456),i=r(55293),a={[n.Er]:"ent:filters_editorial_news",[n.ZH]:"common:links_sports",[n.xK]:"ent:filters_editorial_entertainment",[n.jT]:"ent:filters_editorial_royalty"},o={label:"ent:filters_editorial_all",value:null,isDefault:!0},l=[o,...n.Nm.map(e=>({label:a[e],value:e}))],u={apiQuery:"filter[category]",defaultValue:o.value,buildApiValue:i.ZV,primaryText:"ent:filters_editorial_folder",urlValue:"publicationRoot",getPillLabel:(e,t)=>{var{t:r}=e,{label:n}=t;return r(n)},showInSearchBar:!0,columnCount:2,filters:l}},77265:function(e,t,r){r.r(t),r.d(t,{shotType:function(){return n}});var n={apiQuery:"filter[category]",defaultValue:null,buildApiValue:()=>null,primaryText:"ent:filters_shot_type",urlValue:"shotType",getPillLabel:(e,t)=>{var{t:r}=e,{label:n}=t;return r(n)},columnCount:2,showInSearchBar:!0,filters:r(64911).aA.shotType}},57122:function(e,t,r){r.r(t),r.d(t,{editorialSortBy:function(){return u},editorialSortByLoggedIn:function(){return s}});var n=r(57460),i=r(6692),a=r(73378),o=r(71870),l={apiQuery:"sort",buildApiValue:e=>e,columnCount:2,primaryText:"common:filters_sort_by",urlValue:"sort",showInSearchBar:!1,disableUnderline:!0,inputLabel:"common:filters_sort_by"},u=(0,i._)((0,n._)({},l),{filters:[{label:"common:filters_sort_by_newest",analyticsLabel:a.y4D,value:o.Hu},{label:"common:filters_sort_by_oldest",analyticsLabel:a.Igt,value:o.ne},{label:"common:filters_sort_by_popular",analyticsLabel:a.ASG,value:o.Z1,isDefault:!0},{label:"common:filters_sort_by_mostrelevant",analyticsLabel:a.qS7,value:o.GY},{label:"common:filters_sort_by_freshcontent",analyticsLabel:a.oCv,value:o.lc}]}),s=(0,i._)((0,n._)({},l),{filters:[{label:"common:filters_sort_by_newest",analyticsLabel:a.y4D,value:o.Hu,isDefault:!0},{label:"common:filters_sort_by_oldest",analyticsLabel:a.Igt,value:o.ne},{label:"common:filters_sort_by_popular",analyticsLabel:a.ASG,value:o.Z1},{label:"common:filters_sort_by_mostrelevant",analyticsLabel:a.qS7,value:o.GY},{label:"common:filters_sort_by_freshcontent",analyticsLabel:a.oCv,value:o.lc}]})},36756:function(e,t,r){r.r(t),r.d(t,{specificPeople:function(){return n}});var n={apiQuery:"filter[people]",buildApiValue:e=>e,getPillLabel:(e,t)=>{var{t:r}=e,{value:n}=t;return r("ent:filter_pill_specific_person",{PERSON:n})},placeholderCopy:"common:filters_contributor_name",primaryText:"common:filters_specific_people",showInSearchBar:!0,urlValue:"person",defaultValue:[]}},54800:function(e,t,r){r.r(t),r.d(t,{startDate:function(){return n}});var n={primaryText:"ent:filters_editorial_custom_range",apiQuery:"filter[startDate]",buildApiValue:e=>e,getPillLabel:(e,t)=>{var{t:r}=e,{value:n}=t;return r("ent:filter_pill_start_date",{DATE:n})},label:"ent:start_date",showInSearchBar:!0,urlValue:"startDate",defaultValue:null}},11643:function(e,t,r){r.r(t),r.d(t,{tiers:function(){return a}});var n=r(71870),i={premium:n.g4.PREMIUM.join(","),nonpremium:n.g4.NON_PREMIUM.join(",")},a={apiQuery:"filter[tiers]",buildApiValue:e=>i[e],columnCount:2,defaultValue:null,getPillLabel:(e,t)=>{var{t:r}=e,{label:n}=t;return r(n)},showInSearchBar:!0,urlValue:"tiers",getHelperText:()=>"ent:premium_content_by_shutterstock_star",primaryText:"common:filters_premium_editorial",filters:[{label:"common:filters_all_editorial",analyticsLabel:"allEditorial",value:"editorial",isDefault:!0},{label:"common:filters_only_premium_editorial",analyticsLabel:"onlyPremium",value:"premium"},{label:"common:filters_hide_premium_editorial",analyticsLabel:"hidePremium",value:"nonpremium"}],getCapabilityConf:()=>({tooltipLabel:"ent:tip_no_access_content",key:"userCanViewRexEditorialImage"})}},29923:function(e,t,r){r.r(t),r.d(t,{categories:function(){return n.categories},collections:function(){return i.collections},dateShot:function(){return a.dateShot},editorialSortBy:function(){return _.editorialSortBy},endDate:function(){return o.endDate},events:function(){return l.events},exclusive:function(){return u.j},gender:function(){return s.gender},orientation:function(){return c.orientation},people:function(){return v.people},performing:function(){return m.performing},personality:function(){return f.personality},productType:function(){return p.$},shotType:function(){return d.shotType},specificPeople:function(){return g.specificPeople},startDate:function(){return h.startDate},tiers:function(){return y.tiers}});var n=r(38778),i=r(61457),a=r(9775),o=r(16555),l=r(73597),u=r(41708),s=r(4488),c=r(87421),d=r(77265),v=r(39059),m=r(17319),f=r(93759),p=r(15833),_=r(57122),h=r(54800),y=r(11643),g=r(36756)},43467:function(e,t,r){r.r(t),r.d(t,{folderView:function(){return n.t},publicationRoot:function(){return i.publicationRoot}});var n=r(95576),i=r(75529)},44701:function(e,t,r){r.r(t),r.d(t,{attendees:function(){return n.attendees}});var n=r(4087)},85839:function(e,t,r){r.r(t),r.d(t,{categories:function(){return o.categories},collections:function(){return l.collections},dateShot:function(){return u.dateShot},duration:function(){return n.duration},editorialSortBy:function(){return _.editorialSortBy},endDate:function(){return s.endDate},events:function(){return c.events},fps:function(){return i.fps},gender:function(){return y.gender},orientation:function(){return d.orientation},people:function(){return v.people},performing:function(){return m.performing},personality:function(){return f.personality},productType:function(){return p.$},resolution:function(){return a.resolution},specificPeople:function(){return g.specificPeople},startDate:function(){return h.startDate}});var n=r(11355),i=r(53626),a=r(63859),o=r(38778),l=r(61457),u=r(9775),s=r(16555),c=r(73597),d=r(87421),v=r(39059),m=r(17319),f=r(93759),p=r(15833),_=r(57122),h=r(54800),y=r(4488),g=r(36756)},11355:function(e,t,r){r.r(t),r.d(t,{duration:function(){return i}});var n=r(3611),i={apiQuery:"filter[duration]",buildApiValue:e=>(0,n.RX)(e),defaultValue:"0-600",getPillLabel:(0,n.Ud)("common:filters_sb_duration"),inputLabel:"ent:filters_duration_inputs",primaryText:"common:filters_duration",showInSearchBar:!0,urlValue:"duration"}},53626:function(e,t,r){r.r(t),r.d(t,{fps:function(){return i}});var n=r(3611),i={apiQuery:"filter[fps]",buildApiValue:e=>{var t=(0,n.ky)(e);return null==t?void 0:t.replace("other","(47.95 OR 47.96 OR 48)")},columnCount:3,defaultValue:[],getPillLabel:(e,t)=>{var{format:r,t:n}=e,{label:i,value:a}=t;return n("common:filters_sb_fps",{FPS:"other"===a?n(i):r(a)})},primaryText:"common:filters_fps",showInSearchBar:!0,urlValue:"fps",filters:[{label:"23.98",value:"23.98",analyticsLabel:"fps-2398"},{label:"24",value:"24",analyticsLabel:"fps-24"},{label:"25",value:"25",analyticsLabel:"fps-25"},{label:"29.97",value:"29.97",analyticsLabel:"fps-2997"},{label:"30",value:"30",analyticsLabel:"fps-30"},{label:"50",value:"50",analyticsLabel:"fps-50"},{label:"59.94",value:"59.94",analyticsLabel:"fps-5994"},{label:"60",value:"60",analyticsLabel:"fps-60"},{label:"ent:other",value:"other",analyticsLabel:"fps-other"}]}},63859:function(e,t,r){r.r(t),r.d(t,{resolution:function(){return a}});var n=r(71870),i=r(3611),a={apiQuery:"filter[resolution]",buildApiValue:e=>{var t=(0,i.ky)(e);return null==t?void 0:t.replace("hd","high_definition").replace("sd","standard_definition")},columnCount:3,defaultValue:[],getPillLabel:(e,t)=>{var{t:r}=e,{label:n}=t;return r(n)},primaryText:"common:filters_max_resolution",showInSearchBar:!0,urlValue:n.Z$,filters:[{label:"common:resolutions_4k",value:"4k",analyticsLabel:"resolution-4k"},{label:"common:resolutions_hd",value:"hd",analyticsLabel:"resolution-hd"},{label:"common:resolutions_sd",value:"sd",analyticsLabel:"resolution-sd"}]}},28881:function(e,t,r){r.d(t,{O:function(){return g}});var n=r(57460),i=r(2281),a=r(71870),o=r(29923),l=r(43467),u=r(44701),s=r(85839),c=r(84650),{EDITORIAL_LATEST_EVENTS:d,EDITORIAL_VIDEO_SEARCH:v,EDITORIAL_IMAGE_SEARCH:m,EDITORIAL_PUBLICATION:f,EDITORIAL_COMPILATION:p}=a.FILTER_TYPES,_={[d]:l,[v]:s,[m]:o,[f]:u,[p]:u},h=["categories","gender","orientation","people","performing","personality","shotType"],y=e=>{var{filterType:t}=e;return _[t]},g=e=>{var{queryParams:t}=e,r=(0,i._)(e,["queryParams"]),a=y(r),o=h.reduce((e,r)=>{var n;return[...e,...t[null===(n=a[r])||void 0===n?void 0:n.urlValue]?[t[a[r].urlValue]]:[]]},[]).join(",");return(0,c.r)((0,n._)({queryParams:(0,n._)({},t,o?{[a.categories.urlValue]:o}:{})},r),a)}},9787:function(e,t,r){r.d(t,{Oo:function(){return F},rB:function(){return w}});var n,i,a,o,l=r(81862),u=r(57460),s=r(32212),c=r(83674),d=r(30053),v=r(10242),m=r(59581),f=r(14417),p=r(3456),_=r(56364),h=r(79041),y=r(76825),g=r(3731),b=r(15306),S=r(75615),I=r(22124),T=r(79239),E=e=>{var t,r,{asset:n}=e,{angle:i,selectedFormatType:a,selectedShadowsOption:o}=n;return(0,u._)({angle:i||(null==n?void 0:null===(r=n.metadata)||void 0===r?void 0:null===(t=r.cart)||void 0===t?void 0:t.angle)||c.U,content_size:v.JF},a===d.yI&&{include_shadows:"on"===o})},w=e=>{var t,r,{asset:n}=e;return(null==n?void 0:null===(r=n.metadata)||void 0===r?void 0:null===(t=r.cart)||void 0===t?void 0:t.sizes)||n.sizes},C=(n=(0,l._)(function*(e){var t,{asset:r}=e;if((null==r?void 0:null===(t=r.metadata)||void 0===t?void 0:t.cart)&&!r.metadata.cart.sizes){var n=(0,y.so)(r),i={id:r.id};return n&&(i.channel=f.$S,i.content_provider=p._e),(yield b.uS.get((0,s.om)({queryParams:i}).formattedUrl).then(e=>{var{data:t}=e;return(0,S.O)(t)})).sizes}return w({asset:r})}),function(e){return n.apply(this,arguments)}),A=e=>{var t,r,n,i,{asset:a,is3dObject:o,isRexEditorial:l,selectedAssetSize:u}=e;return a.licenseAsJpeg||(null===(r=a.metadata)||void 0===r?void 0:null===(t=r.cart)||void 0===t?void 0:t.licenseAsJpeg)?"jpeg":o&&a.selectedFormatType?"3dByFormat":o&&(null===(i=a.metadata)||void 0===i?void 0:null===(n=i.cart)||void 0===n?void 0:n.size)?"3dBySize":g.Bg[u]?"comped":l?"rexEditorial":"default"},P=e=>{var t,r,n,i,{asset:a,licenseStrategy:o,selectedAssetSize:l,sizesToUseArray:u}=e,s=(()=>{switch(o){case"jpeg":return u.find(e=>{var{format:t}=e;return t===d._3});case"3dByFormat":return u.find(e=>{var{format:t}=e;return t===a.selectedFormatType});case"3dBySize":return;case"comped":return(0,h.AR)({sizes:u,compSizeImage:l});default:return(0,h.Nf)(u)}})(),c=(null==s?void 0:s.format)||(null===(r=a.metadata)||void 0===r?void 0:null===(t=r.cart)||void 0===t?void 0:t.format);switch(o){case"rexEditorial":return{size:v.vD,format:c};case"3dByFormat":var[m]=s.name.split("_");return{size:m,format:c};case"3dBySize":return{size:null==a?void 0:null===(i=a.metadata)||void 0===i?void 0:null===(n=i.cart)||void 0===n?void 0:n.size,format:c};default:return{size:g.nd[(0,I.z)(s.name)].downloadName,format:c}}},R=e=>{var t,r,n,i,{selectedAssetSize:a,asset:o}=e,l=w({asset:o}),s=(0,y.EK)(o),c=(0,y.f8)(o),d=c?E({asset:o,selectedAssetSize:a,sizesToUse:l}):{};if(!l&&(null==o?void 0:null===(r=o.metadata)||void 0===r?void 0:null===(t=r.cart)||void 0===t?void 0:t.size)&&(null==o?void 0:null===(i=o.metadata)||void 0===i?void 0:null===(n=i.cart)||void 0===n?void 0:n.format))return(0,u._)({content_size:s?v.vD:o.metadata.cart.size,content_format:o.metadata.cart.format},d);var m=Object.values(l),f=A({asset:o,is3dObject:c,isRexEditorial:s,selectedAssetSize:a}),{size:p,format:_}=P({asset:o,licenseStrategy:f,selectedAssetSize:a,sizesToUseArray:m});return(0,u._)({content_size:p,content_format:_},d)},L=e=>{var{map:t,licenseName:r}=e,n=t[r];return n===v.T0?v.qY:n},k=e=>{var{asset:t,licenseName:r,isVideoComp:n,selectedAssetSize:i,sizes:a}=e,o=(0,y.EK)(t),l=(0,y.cL)(t),u=(0,y.$Q)({sizes:Object.values(a)});return!n&&u?L({map:g.Q1,licenseName:r}):n||r===_.f12||o||l?!i||o||l?(0,h.mF)(a):g.kR[i]:L({map:g.kR,licenseName:r})},O=(i=(0,l._)(function*(e){var{asset:t,licenseName:r,isVideoComp:n,selectedAssetSize:i}=e,a=yield C({asset:t}),o=k({asset:t,licenseName:r,isVideoComp:n,selectedAssetSize:i,sizes:a}),l=(0,y.EK)(t),u=Object.values(a).find(e=>{var{resolution:t}=e;return g.wb[null==t?void 0:t.toLowerCase()]===o});return{content_size:l?v.vD:o,content_format:null==u?void 0:u.format}}),function(e){return i.apply(this,arguments)}),D=e=>{var t,{format:r,selectedAssetSize:n}=e;switch(n){case"stereo":t=v.cs;break;case"5.1":t=v.gp;break;default:t=v.yy}return{content_size:t,content_format:r===d.iH?d.iH:d._Y}},x=(a=(0,l._)(function*(e){var{asset:t,licenseName:r,isVideoComp:n,selectedAssetSize:i,format:a}=e,o=(0,T.qw)({asset:t});switch((0,y.so)(t)&&(o=m.A7),o){case m.pX:case m.A7:return yield O({asset:t,licenseName:r,isVideoComp:n,selectedAssetSize:i});case m.j0:return{content_size:v.Ng,content_format:m.j0};case m.tn:return D({selectedAssetSize:i,format:a});default:return R({selectedAssetSize:i,asset:t})}}),function(e){return a.apply(this,arguments)}),F=(o=(0,l._)(function*(e){var{licenseName:t,selectedAssetSize:r,asset:n,isVideoComp:i,format:a}=e,o=(0,T.qw)({asset:n}),l=n.id.toString();return(0,u._)({content_id:l,content_type:(0,T.JD)({assetType:o,assetId:l})},(yield x({asset:n,licenseName:t,isVideoComp:i,selectedAssetSize:r,format:a})))}),function(e){return o.apply(this,arguments)})},79239:function(e,t,r){r.d(t,{Fy:function(){return s},JD:function(){return o},Js:function(){return c},qw:function(){return l},rw:function(){return u}});var n=r(59581),i=r(56364),a=r(76825),o=e=>{var{assetId:t,assetType:r}=e;if((0,a.EK)({id:t}))return n.gP;switch(r){case n.k4:case n.Y_:case n.ox:case n.w5:return n.pV;case n.FM:return n.pX;case n.xF:case n.jr:return n.j0;case n.tn:return n.tn;default:return r}},l=e=>{var t,{asset:r}=e;if(null===(t=r.image)||void 0===t?void 0:t.isVector)return n.ox;if((0,a.EK)(r))return n.gP;var i=r.imageType||r.itemType||r.type;switch(i){case n.e3:case n.X2:case n.Y_:return n.k4;case n.FM:return n.pX;case n.jr:return n.j0;case n.tn:return n.tn;default:return i}},u=e=>{var{asset:t}=e;if((0,a.N3)(t))return n.gP;if((0,a.so)(t))return n.cF;var r=t.imageType||t.itemType||t.type;switch(r){case n.ox:case n.pV:case n.e3:case n.X2:case n.Y_:return n.k4;case n.FM:return n.pX;case n.jr:return n.j0;case n.tn:return n.tn;default:return r}},s=e=>{var{asset:t}=e;if((0,a.N3)(t))return n.nX;if((0,a.so)(t))return n.A7;var r=t.imageType||t.itemType||t.type;switch(r){case n.ox:case n.pV:case n.e3:case n.X2:case n.Y_:return n.k4;case n.FM:return n.pX;case n.jr:case n.xF:return n.j0;case n.tn:return n.tn;default:return r}},c=e=>{var t=s({asset:e.mediaItem});return e.licenseName===i._rW[t]}},28007:function(e,t,r){r.d(t,{Ax:function(){return g},H8:function(){return m},NV:function(){return v},Tp:function(){return b},aW:function(){return S},iI:function(){return _},j2:function(){return h},lW:function(){return y},te:function(){return f},uP:function(){return d}});var n=r(57460),i=r(6692),a=r(30053),o=r(59581),l=r(68078),u=r(56364),s=r(76825),c=r(79239),d=e=>{var t,r,{license:n,existingAssetsLicenses:i}=e;if(!i)return!((null==n?void 0:n.licenseName)&&u.b53.includes(null==n?void 0:n.licenseName))&&i;var a=(0,c.Fy)({asset:n.mediaItem});return!!(null==i?void 0:null===(t=i[null===(r=n.mediaItem)||void 0===r?void 0:r.id])||void 0===t?void 0:t.some(e=>e!==u._rW[a]))},v=e=>{var{subscriptions:t=[]}=e;return t.some(e=>{var{redeemableFor:t}=e;return u.SkX.some(e=>e===t)})?u.s5m:u.Hv9},m=e=>e.reduce((e,t)=>{var r=t.licenseId;return e.includes(r)||e.push(r),e},[]),f=e=>{var{alreadyLicensedAssets:t,asset:r}=e;return!!t.find(e=>{var{contentId:t,contentType:n,licenseId:i}=e,a=r.type===o.k4?o.pV:r.type;return t===r.id&&n===a&&i===r.licenseId})},p=e=>{var{licenseType:t,existingLicenses:r,asset:n,isSelect:i=!1}=e,a=["footage_".concat(t,"_sd"),"footage_".concat(t,"_hd")],o=[...a,"footage_".concat(t,"_lowres")];return(i&&a.push("footage_".concat(t,"_4k")),n.licenseId==="footage_".concat(t,"_sd"))?null==r?void 0:r.some(e=>!!a.includes(e)):n.licenseId==="footage_".concat(t,"_lowres")&&(null==r?void 0:r.some(e=>!!o.includes(e)))},_=e=>{var t,{existingLicenses:r,asset:n}=e;switch(n.type){case o.FM:case o.pX:if(u.oPg.some(e=>p({asset:n,licenseType:e,existingLicenses:r})))return!0;return!!(null==r?void 0:r.includes(n.licenseId));case o.k4:default:return!!(null==r?void 0:r.includes(null===(t=n.licenseId)||void 0===t?void 0:t.replace(/_unlimited/,"")))}},h=e=>{var{error:t={},t:r}=e,{meta:n={}}=t;if((null==n?void 0:n.exception_type)===u.JW1){var{value:i}=n.errors.slice(-1).pop(),a="comp_limit"===i.name;return r("P1M"===i.period_length?a?"ent:monthly_comp_limit_reached":"ent:monthly_licensing_limit_reached":a?"ent:daily_comp_limit_reached":"ent:daily_licensing_limit_reached")}return r("ent:license_now_error_message")},y=e=>{var{error:t={},user:r={}}=e,{detail:n,headers:i={},message:a,meta:o={},name:s,source:c={},title:d}=t,{id:v,username:m,organizationId:f}=r||{},p=null==o?void 0:o.exception_type,_=(null==c?void 0:null===(h=c.request)||void 0===h?void 0:h.id)||(null==i?void 0:i[l.cp]);switch(p){case u.JW1:var h,y,g,b=null===(g=o.errors)||void 0===g?void 0:g.map(e=>{var{value:t}=e;return null==t?void 0:t.name});y="".concat(d,": ").concat(b.join(","));break;case u.vFJ:var S,I=null===(S=o.errors)||void 0===S?void 0:S.map(e=>{var{code:t,value:r}=e;return"".concat(t,": ").concat(null==r?void 0:r.content_type," - ").concat(null==r?void 0:r.content_id," - ").concat(null==r?void 0:r.content_size)});y="".concat(d,": ").concat(I.join(","));break;default:y=[p,d,n,a,s].reduce((e,t)=>t&&!e.includes(t)?[...e,t]:e,[]).join(", ")}return{organizationId:f,userId:v,username:m,errorSummary:y,error:t,requestId:_}},g=e=>{var{organizationId:t}=e;return"organization-".concat(t)},b=e=>{var{isEligibilityLoading:t,existingCurrentAssetLiceses:r}=e;return t?void 0:r||[]},S=e=>{var{asset:t,selectedLicenseId:r,activeFormatType:o,selectedShadowsOption:l}=e;return(0,n._)((0,i._)((0,n._)({},t),{itemType:t.itemType||(0,c.rw)({asset:t}),licenseId:r}),o===a._3&&{licenseAsJpeg:!0},(0,s.f8)(t)?{selectedFormatType:o,selectedShadowsOption:l}:{})}},71341:function(e,t,r){r.d(t,{KW:function(){return v},VC:function(){return m},fp:function(){return s},lR:function(){return c},ok:function(){return f},qG:function(){return d},r8:function(){return p},vG:function(){return u}});var n=r(10242),i=r(59581),a=r(76825),o=r(27521),l=[i.pX],u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:480;if(!o.n5||"string"!=typeof e||e.includes("ip=x".concat(t)))return e;try{var r=new URL(e);return r.searchParams.set("ip","x".concat(t)),r.href}catch(t){return e}},s=e=>{var t,r,n;return(null==e?void 0:e.mediaItem)?{previewImageUrl:null===(r=e.mediaItem)||void 0===r?void 0:r.previewImageUrl,previewVideoUrls:null===(n=e.mediaItem)||void 0===n?void 0:n.previewVideoUrls}:{previewImageUrl:(null==e?void 0:e.thumbImageUrl)||(null==e?void 0:null===(t=e.image)||void 0===t?void 0:t.url)||(null==e?void 0:e.previewImageUrl),previewVideoUrls:null==e?void 0:e.previewVideoUrls}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:480,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!(0,a.Am)(e)){var i,o,l,c=e.src||(null===(i=e.image)||void 0===i?void 0:i.url);return r&&(null==e?void 0:null===(l=e.displays)||void 0===l?void 0:null===(o=l[n.F5])||void 0===o?void 0:o.src)||c}var{previewImageUrl:d}=s(e);return u(d,t)},d=e=>{var{assetType:t}=e;return t===i.pX?"mp4":null},v=e=>{var{asset:t}=e;return l.includes((0,a.Tp)(t))&&!(0,a.so)(t)},m=function(){var e,t,r,i,o,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,a.vh)(null==l?void 0:l.type))return(null==l?void 0:l.width)>1e3?"".concat(null==l?void 0:l.previewUrls[0],"?width=1000"):null==l?void 0:l.previewUrls[0];var u=(0,a.EK)(l)?n.bm:n.RA,s=(null==l?void 0:null===(t=l.displays)||void 0===t?void 0:null===(e=t[u])||void 0===e?void 0:e.src)||(null==l?void 0:null===(o=l.image)||void 0===o?void 0:null===(i=o.displays)||void 0===i?void 0:null===(r=i[u])||void 0===r?void 0:r.src);return(0,a.f8)(l)&&l.angle?s.replace(/\/([A-Z]\d\d)./,"/".concat(l.angle,".")):s},f=function(){var e,t,r,o,l,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,a.Tp)(u);return s===i.k4||s===i.zo||s===i.Nk?(null==u?void 0:null===(t=u.displays)||void 0===t?void 0:null===(e=t[n.bm])||void 0===e?void 0:e.src)||(null==u?void 0:u.src):s===i.bz?null==u?void 0:null===(r=u.imageVariants)||void 0===r?void 0:r["1500"]:s===i.xF||s===i.tn?null==u?void 0:u.previewMp3:s===i.hv?null==u?void 0:u.previewUrls[0]:s===i.D8?null===(l=u.cmsEntry)||void 0===l?void 0:null===(o=l.image)||void 0===o?void 0:o.url:null},p=function(){var e,t,r,n,i,o,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s={width:null!==(n=null!==(r=l.width)&&void 0!==r?r:null===(e=l.mediaItem)||void 0===e?void 0:e.width)&&void 0!==n?n:0,height:null!==(o=null!==(i=l.height)&&void 0!==i?i:null===(t=l.mediaItem)||void 0===t?void 0:t.height)&&void 0!==o?o:0};if((0,a.Am)(l)&&(!s.width||!s.height)&&l.sizes){var c=Object.keys(l.sizes).find(e=>l.sizes[e]);s.width=c&&l.sizes[c].width||0,s.height=c&&l.sizes[c].height||0}if(u&&(!s.width||!s.height)&&l.aspectRatioCommon){var[d,v]=l.aspectRatioCommon.split(":");s.width=Number(d),s.height=Number(v)}return s}},40260:function(e,t,r){r.d(t,{H:function(){return i}});var n=r(63770),i=e=>{var t,{user:r}=e;return null==r?void 0:null===(t=r.roles)||void 0===t?void 0:t.includes(n.qy)}},90645:function(e,t,r){r.d(t,{y:function(){return n}});var n=e=>{var{subPage:t,pageType:r}=e;return[t,r].join("-")}},77546:function(e,t,r){r.d(t,{q:function(){return a}});var n=r(59581),i=r(76825),a=e=>{var{assets:t=[]}=e;return(0,i.N3)(null==t?void 0:t[0])?n.nX:(0,i.so)(null==t?void 0:t[0])?n.A7:(0,i.vV)(null==t?void 0:t[0])?n.ox:(0,i.Tp)(null==t?void 0:t[0])}},83:function(e,t,r){r.d(t,{n:function(){return s}});var n=r(73816),i=r(57103),a=r(77546),o=r(53894),l=r(72609),u=e=>{var{acc:t,totalCostOfItems:r,amountRemaining:i,totalAmount:a,bypassLowBalance:o=!1}=e;return o||(r>i&&(t.hasInsufficientSubscriptionCredits=!0,t.hasLowDebitableBalance=!1,t.insufficientAmount=r-i),!t.hasInsufficientSubscriptionCredits&&i<=a*n.cG&&(t.hasLowDebitableBalance=!0)),t},s=e=>{var{items:t,subscriptions:r,subscription:s,hasWrapperSubscription:c=!0}=e;if(t&&t.length){var d={hasInsufficientSubscriptionCredits:!1,hasLowDebitableBalance:!1,insufficientAmount:0,total:0,totalCreditAmount:0,amountType:n.Zm};return t.reduce((e,t)=>{var d,{licenseId:v,price:m}=t,f=(0,a.q)({assets:[t]}),p=s||(0,l.$)({subscriptions:null===(d=(0,o.A)({assetType:f,subscriptions:r}))||void 0===d?void 0:d.subscriptions,licenseName:v,assetType:f})||{},{totalAmount:_,amountRemaining:h,amountType:y,amount:g}=(0,i.Vp)(p);e.amountType=y;var b=parseFloat(m),S=parseFloat(e.total)+b;if(e.total+=b,y===n.vh){var I=parseFloat(g),T=parseFloat(e.totalCreditAmount)+I;return e.totalCreditAmount+=I,u({acc:e,totalCostOfItems:T,amountRemaining:h,totalAmount:_,bypassLowBalance:!c})}return u({acc:e,totalCostOfItems:S,amountRemaining:h,totalAmount:_,bypassLowBalance:!c})},d)}var v=r||{},m=Object.keys(v).find(e=>Array.isArray(v[e])&&v[e].length),f=m&&(0,i.bC)({subscriptions:v[m]||[]})[0]||{},{totalAmount:p,amountRemaining:_,amountType:h}=(0,i.Vp)(f);return{amountType:h,hasInsufficientSubscriptionCredits:!1,hasLowDebitableBalance:_<=p*n.cG,insufficientAmount:null}}},44694:function(e,t,r){r.d(t,{k:function(){return l}});var n=r(73816),i=r(57103),a=r(37861),o=r(83),l=e=>{var t,{items:r,isLoading:l,subscription:u,subscriptions:s,userCapabilities:c}=e;return l?{}:(u&&(t=u.creditType),s&&s.length>0&&(t=s[0].creditType),(0,i.Kc)({userCapabilities:c})?(0,o.n)({items:r,subscription:u,subscriptions:s,hasWrapperSubscription:(0,i.zF)({userCapabilities:c})}):{amountType:t||n.Zm,hasLowDebitableBalance:!1,hasInsufficientSubscriptionCredits:u&&0===(0,a.I)({subscription:u}),insufficientAmount:null})}},53894:function(e,t,r){r.d(t,{A:function(){return a}});var n=r(59581),i=r(79165),a=e=>{var{assetType:t,contentTier:r=0,subscriptions:a}=e;if(!a||!t)return{};switch(t){case n.nX:return{compSubscriptions:a.editorialImageCompSubscriptions,subscriptions:(0,i.c)({assetType:t,subscriptions:a.editorialImageSubscriptions,contentTier:r})};case n.A7:return{compSubscriptions:a.editorialVideoCompSubscriptions,subscriptions:(0,i.c)({assetType:t,subscriptions:a.editorialVideoSubscriptions,contentTier:r})};case n.pX:return{compSubscriptions:a.videoCompSubscriptions,subscriptions:(0,i.c)({assetType:t,subscriptions:a.videoSubscriptions,contentTier:r})};case n.xF:case n.j0:return{compSubscriptions:a.musicCompSubscriptions,subscriptions:(0,i.c)({assetType:t,subscriptions:a.musicSubscriptions,contentTier:r})};case n.tn:return{compSubscriptions:a.sfxCompSubscriptions,subscriptions:(0,i.c)({assetType:t,subscriptions:a.sfxSubscriptions,contentTier:r})};case n.k4:default:return{compSubscriptions:a.imageCompSubscriptions,subscriptions:(0,i.c)({assetType:t,subscriptions:a.imageSubscriptions,contentTier:r})}}}},79165:function(e,t,r){r.d(t,{c:function(){return s}});var n=r(73816),i=e=>e.every(e=>{var{activityTracking:t,creditType:r,priceAsAbsolute:i}=e;return t===n.nm&&r===n.vh&&!!i}),a=e=>i(e)?e.sort((e,t)=>{var{priceAsAbsolute:{price:r=0}={}}=e,{priceAsAbsolute:{price:n=0}={}}=t;return n-r}):e.sort((e,t)=>t.creditPrice-e.creditPrice),o=r(72609),l=e=>{var{item:t,uniqueSubsAcc:r}=e;return r.find(e=>{var{redeemableFor:r,name:n}=e;return t.redeemableFor===r||t.name&&t.name===n})},u=e=>{var{subscriptionToUse:t,licenseName:r}=e,n=null==t?void 0:t.currentLicenses;return!!n&&n.length&&!(null==n?void 0:n.find(e=>{var{redeemableFor:t}=e;return t===(null==r?void 0:r.replace("/_unlimited/",""))}))},s=e=>{var{subscriptions:t=[],contentTier:r,assetType:n}=e;return a(t.reduce((e,i)=>{var a=i.redeemableFor||i.name,s=(0,o.$)({subscriptions:t,licenseName:a,contentTier:r,assetType:n});return!s||u({subscriptionToUse:s,licenseName:a})||l({item:i,uniqueSubsAcc:e})?e:[...e,s]},[]))}},6918:function(e,t,r){r.d(t,{U:function(){return o}});var n=r(73816),i=r(76825),a=r(10218),o=e=>{var{uniqueSubscription:t}=e;if(!t)return{};var{priceAsAbsolute:r,creditCurrency:o,product:l}=t,u=(0,a.q)({subscription:t}),s=null!=o?o:null==l?void 0:l.currency;if(!r){var{creditPrice:c,creditType:d=n.Zm}=t;return{price:"".concat((0,i.lO)({price:c,isUnlimited:u})),priceType:d,currency:s}}var{price:v,priceType:m}=r;return{price:"".concat((0,i.lO)({price:v,isUnlimited:u})),priceType:m,currency:s}}},24351:function(e,t,r){r.d(t,{K:function(){return c}});var n=r(57460),i=r(6692),a=r(59581),o=r(37091),l=r(13716),u=r(62223),s=r(2784),c=()=>{var{analytics:e}=(0,u.yh)(),{getSearchContext:t}=(0,l.Y)(),r=(0,s.useCallback)(t=>{var{cartId:r,items:n}=t,i=(n||[]).map((e,t)=>(0,o.zm)({asset:e,cartId:r,index:t})),a=i.reduce((e,t)=>({totalPrice:e.totalPrice+Number(t.price),toBeBilled:e.toBeBilled+1}),{totalPrice:0,toBeBilled:0});e.cartViewed({products:i,cartId:r,cartTotal:Math.round(100*a.totalPrice)/100,numItemsBilledToCard:a.toBeBilled,shouldCheckout:a.totalPrice>0,shouldDownload:i.length>0&&0===a.totalPrice})},[e]);return{productAddedAnalyticsEvent:(0,s.useCallback)(r=>{var{cart:n,eventLabel:i,gridItems:a,items:l,licenseId:u,licensePrice:s,listId:c,pageSection:d}=r;e.productAdded({products:l.map(e=>(0,o.bR)({asset:e,cartData:n,getSearchContext:t,gridItems:a,licenseId:u,licensePrice:s,pageSection:d})),eventLabel:i,list_id:null!=c?c:""})},[e,t]),productRemovedAnalyticsEvent:(0,s.useCallback)(r=>{var{cart:l,eventLabel:u,gridItems:s,items:c,listId:d,matchingCartItem:v,pageSection:m}=r;if(v){var[f]=c;e.productRemoved((0,i._)((0,n._)({},(0,o.bR)({asset:f,cartData:l,getSearchContext:t,gridItems:s,pageSection:m})),{price:v.price===a.q9?0:Number(v.price),variant:v.licenseId,eventLabel:u,list_id:null!=d?d:""}))}else e.productRemoved({products:c.map(e=>(0,o.bR)({asset:e,cartData:l,getSearchContext:t,gridItems:s,pageSection:m})),eventLabel:u,list_id:null!=d?d:""})},[e,t]),cartViewedAnalyticsEvent:r}}},38622:function(e,t,r){r.d(t,{t:function(){return a}});var n=r(62223),i=r(2784),a=()=>{var{analytics:e}=(0,n.yh)();return(0,i.useCallback)(function(){var{pageSection:t,eventLabel:r,clickTrackOptions:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t&&r&&e.inlineClick("".concat(t,".").concat(r),n)},[e])}},73467:function(e,t,r){r.d(t,{J:function(){return l}});var n=r(37091),i=r(13716),a=r(62223),o=r(2784),l=()=>{var{analytics:e}=(0,a.yh)(),{getSearchContext:t}=(0,i.Y)();return(0,o.useCallback)(r=>{var{collectionId:i,collectionName:a,gridItems:o,assets:l,pageSection:u,listId:s}=r;e.productAddedToWishlist({products:l.map(e=>(0,n.bR)({asset:e,getSearchContext:t,gridItems:o,pageSection:u})),wishlist_id:i,wishlist_name:a,list_id:null!=s?s:""})},[e,t])}},20005:function(e,t,r){r.d(t,{w:function(){return d}});var n=r(57460),i=r(6692),a=r(37091),o=r(76825),l=r(13716),u=r(62223),s=r(5632),c=r(2784),d=()=>{var{analytics:e}=(0,u.yh)(),t=(0,u.wU)(),{asPath:r}=(0,s.useRouter)(),{setSearchContext:d,getSearchContext:v}=(0,l.Y)();return(0,c.useCallback)(l=>{var u,{asset:s,gridItems:c,eventLabel:m="",listId:f=""}=l;if(s.link!==r){d({trackingId:(0,a.lt)({asset:s}),term:null===(u=s.meta)||void 0===u?void 0:u.query});var p=(0,a.qI)(s);e.productClicked((0,i._)((0,n._)({asset_type:(0,o.ZZ)(s),category:(0,a.CP)(s),channels:(0,a.Ky)(s),name:(0,a.LJ)(s),product_id:p,sku:p},t?{pageSection:t,eventLabel:m}:{},c?(0,a.mq)({gridItems:c,item:s}):{},f?{list_id:f}:{}),{search_context:v(s)}))}},[e,r,v,t,d])}},666:function(e,t,r){r.d(t,{U:function(){return d}});var n=r(57460),i=r(73378),a=r(22705),o=r(23534),l=r(37091),u=r(13716),s=r(62223),c=r(2784),d=()=>{var{analytics:e}=(0,s.yh)(),{locale:t}=(0,o.PE)(),{emitEditProductAnalyticsEvent:r}=(0,a.k)(),{getSearchContext:d}=(0,u.Y)();return(0,c.useCallback)(a=>{var{assets:o=[],audioContext:u,eventLabel:s,licenseId:c,isRedownload:v,isQuickDownload:m,isPaid:f,isComp:p,pageSection:_,listId:h}=a,y=s||p&&i.Vp1||void 0;e.productDownloaded((0,n._)({products:o.map(e=>(0,l.bR)({asset:e,shouldGetSearchContextFromAsset:!0,licenseId:c,pageSection:_})),download_context:(0,l.OB)({asset:o[0],isComp:p,isPaid:f,isQuickDownload:m,isRedownload:v,language:t}),eventLabel:y,list_id:null!=h?h:"",search_context:d(o[0])},u&&{audio_context:(0,n._)({},u)})),r("license")},[e,t,d,r])}},13716:function(e,t,r){r.d(t,{Y:function(){return c}});var n=r(47450),i=r(64601),a=r(37091),o=r(26481),l=r(80430),u=r(21805),s=r(2784),c=()=>{var{isBrandSstk:e}=(0,o.D)(),{searchTrackingIdRef:t,searchTermRef:r,setters:{setSearchTrackingId:c,setSearchTerm:d}}=(0,i.uY)(),v=(0,s.useCallback)(r=>{var{trackingId:i,term:a}=r;if(i){if(t.current===i&&(0,l.CU)()===i)return;(0,l.Pc)(i),(0,l.v_)(a),c(i),d(a),e&&u.Z.set(n.d6,i,{expires:n.Dy,sameSite:"strict"})}},[e,t,d,c]),m=(0,s.useCallback)(function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{meta:i}=n,o=(0,a.lt)({asset:n})||t.current||(0,l.CU)();return(0,a.Be)({trackingId:(null==o?void 0:o.uuid)||o,searchTerm:(null==i?void 0:i.query)||(null==i?void 0:null===(e=i.search_context)||void 0===e?void 0:e.search_term)||r.current||(0,l.DO)()})},[r,t]),f=(0,s.useCallback)(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=(null==t?void 0:t[0])||t,{meta:i}=n,o=(0,a.lt)({asset:n})||(0,l.CU)();return(0,a.Be)({trackingId:o,searchTerm:(null==i?void 0:i.query)||(null==i?void 0:null===(e=i.search_context)||void 0===e?void 0:e.search_term)||r.current||(0,l.DO)()})},[r]);return{setSearchContext:v,getSearchContext:m,validateSearchTrackingId:(0,s.useCallback)(()=>{var i=(0,l.CU)(),a=t.current,o=r.current,s=(0,l.DO)();(a!==i||o!==s)&&((0,l.Pc)(a),(0,l.v_)(o),e&&u.Z.set(n.d6,a,{expires:n.Dy,sameSite:"strict"}))},[e,r,t]),getSearchContextFromAssets:f}}},80772:function(e,t,r){r.d(t,{a:function(){return c}});var n=r(99962),i=r(64387),a=r(53076),o=r(74780),l=r(2784),u=function(){var{isLoading:e=!1,withinCampaign:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{isLoading:e,isAssetFreeToDownload:t,canPreview:!t,canShare:!t,canEdit:!t,canTry:!t,canSaveToCollection:!t,canSeeDetailsModal:!t}},s=()=>{var e=(0,o.p)(n.NV);return{data:{isDreamCampaignEnabled:e},isValidating:void 0===e}},c=e=>{var{contributor:t}=e||{},{data:r,isValidating:n}=s(),o=(0,a.B)(),c=null==t?void 0:t.id;return(0,l.useMemo)(()=>{var e=o&&n;return!e&&r.isDreamCampaignEnabled&&o&&(0,i.n_)({contributorId:null!=c?c:""})?u({withinCampaign:!0}):u({isLoading:e})},[n,r,c,o])}},60296:function(e,t,r){r.d(t,{N4:function(){return p}});var n=r(32212),i=r(59581),a=r(14417),o=r(20410),l=r(26481),u=r(15306),s=r(75615),c=r(32717),d=r(5632),v=r(2784),m=r(3255),f=function(){var{assetType:e=i.Y_}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{isBrandSstk:t}=(0,l.D)(),r=t?a.Oq:a.$S,{data:c}=(0,m.ZP)((0,n.Zg)({queryParams:{assetType:e,channel:r}}).formattedUrl,e=>u.uS.get(e).then(e=>(0,s.O)(e.data)),{dedupingInterval:o.Ho});return c},p=()=>{var{asPath:e}=(0,d.useRouter)(),t=(0,c.tc)(e),r=f({assetType:i._M[t]});return{filters:(0,v.useMemo)(()=>[{label:"ent:filters_editorial_all_content",value:void 0,isDefault:!0},...(null==r?void 0:r.map(e=>{var{label:t,id:r}=e;return{label:t,value:r}}))||[]],[r]),key:"collections"}}},5572:function(e,t,r){r.d(t,{Q3:function(){return d},bO:function(){return p},e$:function(){return m},mN:function(){return c}});var n=r(52850),i=r(71870),a=r(32717),o=r(5632),l=r(79428),u=r(87202),s=e=>{var{pathname:t}=e;switch((0,a.oY)(t).replace(/\/workbench/,"").replace(/\/\[term\]/,"")){case"/search":case"/s":return i.FILTER_TYPES.IMAGE_SEARCH;case"/video/search":return i.FILTER_TYPES.VIDEO_SEARCH;case"/video/editorial/search":return i.FILTER_TYPES.VIDEO_EDITORIAL_SEARCH;case"/music/search":return i.FILTER_TYPES.MUSIC_SEARCH;case"/sound-effects/search":return i.FILTER_TYPES.SFX_SEARCH;case"/account/invoices/[slug]":return i.FILTER_TYPES.ACCOUNT_INVOICES;case"/editorial/search":return i.FILTER_TYPES.EDITORIAL_IMAGE_SEARCH;case"/editorial/video/search":return i.FILTER_TYPES.EDITORIAL_VIDEO_SEARCH;case"/editorial/[publicationRoot]":case"/editorial/latest-events":return i.FILTER_TYPES.EDITORIAL_LATEST_EVENTS;case"/editorial/livefeed/[permalink]":case"/editorial/[publicationRoot]/[permalink]":return i.FILTER_TYPES.EDITORIAL_PUBLICATION;case"/editorial/compilations/[permalink]":return i.FILTER_TYPES.EDITORIAL_COMPILATION;case"/catalog":case"/catalog/uploads":case"/catalog/licenses":case"/catalog/designs":case"/catalog/shared-with-you":case"/catalog/ai-generated":return i.FILTER_TYPES.CATALOG;case"/catalog/collections":case"/catalog/collections/[slug]":return i.FILTER_TYPES.COLLECTIONS;case"/templates/search":return i.FILTER_TYPES.TEMPLATES_SEARCH;case"/developers/discover":return i.FILTER_TYPES.DEVELOPERS_DISCOVER;default:if(t.startsWith("/licenses"))return i.FILTER_TYPES.LICENSE_HISTORY;return null}},c=function(){var{overrideFilterType:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{pathname:t,query:r}=(0,o.useRouter)();return{filterType:e||s({pathname:t,query:r}),query:r}},d=()=>{var{query:e}=(0,o.useRouter)(),{filterType:t}=c(),r=(0,u.k)({filterType:t});return[r&&Object.values(r).some(t=>{var{urlValue:r}=t;return!!e[r]}),!!r]},v={[i.FILTER_TYPES.ACCOUNT_INVOICES]:n.b_Q,[i.FILTER_TYPES.IMAGE_SEARCH]:n.Zae,[i.FILTER_TYPES.VIDEO_SEARCH]:n.A89,[i.FILTER_TYPES.VIDEO_EDITORIAL_SEARCH]:n.n5R,[i.FILTER_TYPES.MUSIC_SEARCH]:n.mE7,[i.FILTER_TYPES.SFX_SEARCH]:n.nln,[i.FILTER_TYPES.TEMPLATES_SEARCH]:n.vkC,[i.FILTER_TYPES.EDITORIAL_IMAGE_SEARCH]:n.C_m,[i.FILTER_TYPES.EDITORIAL_VIDEO_SEARCH]:n.n5R,[i.FILTER_TYPES.LICENSE_HISTORY]:n.nMb,[i.FILTER_TYPES.EDITORIAL_LATEST_EVENTS]:n.RMh,[i.FILTER_TYPES.EDITORIAL_PUBLICATION]:n.kq$,[i.FILTER_TYPES.EDITORIAL_COMPILATION]:n.kq$,[i.FILTER_TYPES.CATALOG]:n.tcn,[i.FILTER_TYPES.COLLECTIONS]:n.tcn,[i.FILTER_TYPES.DEVELOPERS_DISCOVER]:n.$Pz},m=function(){var{overrideFilterType:e,ns:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{filterType:r}=c({overrideFilterType:e}),n=v[r]||t,{t:i,ready:a}=(0,l.$G)(n);return{t:i,ready:a,ns:n}},f={[i.FILTER_TYPES.IMAGE_SEARCH]:n.VIT,[i.FILTER_TYPES.VIDEO_SEARCH]:n.VIT,[i.FILTER_TYPES.VIDEO_EDITORIAL_SEARCH]:n.U2P,[i.FILTER_TYPES.MUSIC_SEARCH]:n.VIT,[i.FILTER_TYPES.EDITORIAL_IMAGE_SEARCH]:n.U2P,[i.FILTER_TYPES.EDITORIAL_VIDEO_SEARCH]:n.U2P,[i.FILTER_TYPES.EDITORIAL_LATEST_EVENTS]:n.RMh,[i.FILTER_TYPES.ACCOUNT_INVOICES]:n.U2P,[i.FILTER_TYPES.CATALOG]:n.tcn,[i.FILTER_TYPES.COLLECTIONS]:n.tcn},p=()=>{var{filterType:e}=c(),t=f[e],{t:r,ready:n}=(0,l.$G)(t);return{t:r,ready:n,ns:t}}},87202:function(e,t,r){r.d(t,{k:function(){return s}});var n=r(57460),i=r(6692),a=r(71870),o=r(60296),l=r(2784),u={[a.FILTER_TYPES.EDITORIAL_IMAGE_SEARCH]:o.N4,[a.FILTER_TYPES.EDITORIAL_VIDEO_SEARCH]:o.N4,[a.FILTER_TYPES.VIDEO_EDITORIAL_SEARCH]:o.N4},s=e=>{var{filterType:t=a.FILTER_TYPES.IMAGE_SEARCH}=e,[o,s]=(0,l.useState)(null),{filters:c,key:d}=(u[t]||(()=>({})))(),v=(0,l.useCallback)(e=>{s((0,n._)({},e,e[d]?{[d]:(0,i._)((0,n._)({},e[d]),{filters:c})}:{}))},[c,d,s]);return(0,l.useEffect)(()=>{switch(t){case a.FILTER_TYPES.MUSIC_SEARCH:r.e(65253).then(r.bind(r,7024)).then(v);break;case a.FILTER_TYPES.SFX_SEARCH:r.e(23770).then(r.bind(r,45676)).then(v);break;case a.FILTER_TYPES.VIDEO_SEARCH:r.e(41053).then(r.bind(r,16987)).then(v);break;case a.FILTER_TYPES.IMAGE_SEARCH:r.e(8691).then(r.bind(r,42745)).then(v);break;case a.FILTER_TYPES.EDITORIAL_IMAGE_SEARCH:Promise.all([r.e(22915),r.e(93613)]).then(r.bind(r,29923)).then(v);break;case a.FILTER_TYPES.VIDEO_EDITORIAL_SEARCH:case a.FILTER_TYPES.EDITORIAL_VIDEO_SEARCH:Promise.all([r.e(22915),r.e(85457)]).then(r.bind(r,85839)).then(v);break;case a.FILTER_TYPES.EDITORIAL_PUBLICATION:case a.FILTER_TYPES.EDITORIAL_COMPILATION:r.e(46483).then(r.bind(r,44701)).then(v);break;case a.FILTER_TYPES.LICENSE_HISTORY:r.e(4095).then(r.bind(r,28192)).then(v);break;case a.FILTER_TYPES.EDITORIAL_LATEST_EVENTS:r.e(22251).then(r.bind(r,43467)).then(v);break;case a.FILTER_TYPES.ACCOUNT_INVOICES:r.e(83483).then(r.bind(r,37378)).then(v);break;case a.FILTER_TYPES.CATALOG:case a.FILTER_TYPES.COLLECTIONS:Promise.resolve().then(r.bind(r,85013)).then(v);break;case a.FILTER_TYPES.AI_SEARCH:r.e(49194).then(r.bind(r,40674)).then(v);break;case a.FILTER_TYPES.TEMPLATES_SEARCH:r.e(55980).then(r.bind(r,45758)).then(v)}},[t,v]),o}},12528:function(e,t,r){r.d(t,{iP:function(){return c},Ol:function(){return u},o1:function(){return d}});var n,i=r(81862),a=JSON.parse('{"id":"9b39276a4c2fd8168192d2aea104dbc7220c29975ed9b48a0841bb614ec5e8ef","type":"query","name":"FetchAssetReviewStatusData","source":"query FetchAssetReviewStatusData($where:MediaWhere!){creativeImages(where:$where){data{isIpReviewed classicId referenceIds{namespace name value __typename}__typename}__typename}}"}'),o=r(18111),l=r(59820),u=e=>{var{assetIds:t}=e;return[a.source,{where:{classicIds:t}}]},s=e=>{var t;return(null==e?void 0:null===(t=e.creativeImages)||void 0===t?void 0:t.data)?e.creativeImages.data.filter(e=>null!==e).map(e=>{var t=(null==e?void 0:e.isIpReviewed)||!1,r=(null==e?void 0:e.referenceIds)||[],n=(null==e?void 0:e.classicId)||"",i=r.find(e=>(null==e?void 0:e.namespace)==="ip_review"&&(null==e?void 0:e.name)==="ip_review_status");return{classicId:n,isIpReviewed:t,ipReviewStatus:(null==i?void 0:i.value)||"",queryKey:u({assetIds:[n]})}}):[]},c=(n=(0,i._)(function*(e,t){var[r,n]=t;return e(r,n).then(s)}),function(e,t){return n.apply(this,arguments)}),d=(e,t)=>{var{assetIds:r}=e,n=(0,o.H)("/");return(0,l.a)({enabled:t,queryKey:u({assetIds:r}),queryFn:e=>{var{queryKey:t}=e;return c(n,t)}})}},68400:function(e,t,r){r.d(t,{y:function(){return h}});var n,i=r(81862),a=r(57460),o=r(6692),l=r(36006),u=r(24138),s=r(12528),c=r(26481),d=r(18111),v=r(69236),m=r(91953),f=(n=(0,i._)(function*(e){var{items:t,trackingId:r}=e;0!==t.length&&(yield(0,m.t)("/message-gateway/ip-review",(0,o._)((0,a._)({method:"POST",requireAuth:!0},(0,v.S)({trackingId:r})),{body:{media:t.map(e=>({mediaId:e}))}})))}),function(e){return n.apply(this,arguments)}),p=r(14010),_=r(2784),h=function(){var e,{trackingId:t=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,d.H)("/"),{isBrandEnterprise:n}=(0,c.D)(),v=(0,p.NL)();return{queueIpReview:(0,_.useCallback)((e=(0,i._)(function*(e){if(n){var i,c,d=e.reduce((e,t)=>(0,u.k7)(t)?[...e,String(t.id)]:e,[]);if(d.length){var m=(yield v.fetchQuery({queryKey:(0,s.Ol)({assetIds:d}),queryFn:e=>{var{queryKey:t}=e;return(0,s.iP)(r,t)}})).reduce((e,t)=>(null==t?void 0:t.isIpReviewed)===!1&&(null==t?void 0:t.ipReviewStatus)!==l.hA?[...e,t]:e,[]);try{if(m.length){yield f({items:m.map(e=>null==e?void 0:e.classicId),trackingId:t});var p=m.map(e=>(v.setQueryData(null==e?void 0:e.queryKey,[(0,o._)((0,a._)({},e),{isIpReview:!1,ipReviewStatus:l.hA})]),v.invalidateQueries({queryKey:null==e?void 0:e.queryKey,predicate:t=>{var{queryKey:r}=t;return r===(null==e?void 0:e.queryKey)}})));yield Promise.all(p)}}catch(e){null===(c=window.NREUM)||void 0===c||null===(i=c.noticeError)||void 0===i||i.call(c,e,{message:"Error adding assets to queue for IP review: ".concat(m.map(e=>null==e?void 0:e.classicId).join(", "),"\ntrackingId: ").concat(t)})}}}}),function(t){return e.apply(this,arguments)}),[r,n,t,v])}}},9870:function(e,t,r){r.d(t,{h:function(){return a}});var n=r(40260),i=r(53076),a=e=>{var{data:t}=(0,i.jy)();return(0,n.H)({user:t})?null==e?void 0:e.compSizeImage:null==e?void 0:e.compSizeSubImage}},31118:function(e,t,r){r.d(t,{Zo:function(){return el}});var n=r(81862),i=r(57460),a=r(6692),o=r(32212),l=r(28603),u=r(59581),s=r(14417),c=r(68078),d=r(56364),v=r(73816),m=r(23534),f=r(37091),p=r(9787),_=r(79239),h=r(28007),y=r(3731),g=r(69236),b=r(90645),S=r(10218),I=r(37387),T=r(72609),E=r(13716),w=r(62223),C=r(2784),A=()=>{var{analytics:e}=(0,w.yh)(),{getSearchContext:t}=(0,E.Y)();return(0,C.useCallback)(r=>{var{assets:n=[]}=r,i=t(n[0]);e.productLicensed({products:n.map(e=>(0,f.bR)({asset:e,shouldGetSearchContextFromAsset:!0})),search_context:i})},[e,t])},P=r(88379),R=r(26481),L=r(76825),k=r(15306),O=e=>{var t,{assets:r}=e,n=(0,L.Tp)(r[0]);return{include:"subscriptions",content_type:(0,_.JD)({assetType:n,assetId:null===(t=r[0])||void 0===t?void 0:t.id}),content_ids:r.reduce((e,t)=>[...e,t.id.toString()],[]).join(",")}},D=e=>{var{assets:t}=e,r={};return t.forEach(e=>{var t=(0,L.Tp)(e),n=(0,_.JD)({assetId:e.id,assetType:t});r[n]=[...r[n]?r[n]:[],e]}),r},x=e=>{var{assetEligibility:t}=e,{permittedLicenses:r,subscriptions:n}=t;return null==n?void 0:n.filter(e=>{var{license:t}=e;return r.includes(t.replace("_unlimited",""))})},F=e=>{var t,{assets:r=[],user:n}=e;return null===(t=Object.values(D({assets:r})))||void 0===t?void 0:t.map(e=>{var t=O({assets:e}),{formattedUrl:r}=(0,o.Td)({urlParams:{licenseeIdentifier:"organization-".concat(null==n?void 0:n.organizationId)},queryParams:t});return k.uS.get(r)})},V=e=>{var{data:t}=e,r=[];return t.map(e=>{var t=e.id.split("-"),n=t[t.length-1],i=x({assetEligibility:e});return r.push({assetId:n,subscriptions:i})}),r},N=r(53076),U=r(43907),j=r(75615),M=r(92562),B=r(80430),Y=r(52850),z=r(7665),q=r(33750),H=r(30726),G=r(71076),Z=r(95152),J=r(21763),Q=r(82098),K=r(60212),W=r(79428),$=new RegExp(H.C),X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{emailCartCheckoutConfirmation:t,orderEmail:r}=e;return t&&r?r.split(",").filter(e=>$.test(e)):[]},ee=e=>{var{purchaseOrder:t}=e;return"".concat(null==t?void 0:t[0]," : ").concat(null==t?void 0:t[1]).split(" ").map(e=>(0,K.k)(e)).join(" ")},et=e=>{var{t,keys:{currentYear:r,emailAddress:n,purchaseOrder:i}}=e;return{copyright:t("site-footer:copyright",{CURRENT_YEAR:r}),emailSentTo:t("ent:email_sent_to",{EMAIL_ADDRESS:n}),emailSubjectLine:"".concat(t("ent:order_confirmation_email_subject")," | ").concat(ee({purchaseOrder:i})),name:t("account:profile_name"),needAssistance:t("ent:contact_sales_representative"),orderConfirmation:t("ent:order_confirmation"),purchaseInformation:t("ent:purchase_information_key"),shutterstockAddress:t("tos:tos_2020_09_04_part_v_24_table_r2_c2_l2"),shutterstockInc:t("tos:tos_2020_09_04_part_v_24_table_r2_c2_l1"),subtotal:t("ent:order_confirmation_email_subtotal"),thisIsNotAnInvoice:t("ent:not_an_invoice")}},er=()=>{var{t:e}=(0,W.$G)(Y.jp5),{data:t}=(0,N.jy)(),{data:r}=(0,J.b)(),{data:n}=(0,Z.B)(),{name:i,email:a,phone:o}=(0,Q.z)({fetchTrigger:!0})||{},{locale:l,fullLocale:u}=(0,m.PE)(),s=(0,P.o)();return{sendOrderConfirmationEmails:(0,C.useCallback)(function(){var{cartTotalCurrency:c,filteredOrderMetadata:d,licenseMetadata:v,priceType:m}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=[...(null==r?void 0:r.emailCartCheckoutConfirmation)?[null==t?void 0:t.email]:[],...X(n)];if(f.length&&(null==d?void 0:d.length)){var p,_,h,y,g=et({t:e,keys:{currentYear:new Date().getFullYear(),emailAddress:null==t?void 0:t.email,purchaseOrder:Object.entries(v)[0],repName:i,repPhoneNumber:o,repEmail:a}});try{var b={cartItems:d,fullName:null==t?void 0:t.fullName,invoiceDate:new Intl.DateTimeFormat(u).format(new Date),labels:g,licenseMetadata:v,repEmail:a,repName:i,repPhoneNumber:o,totalAmount:s({price:(0,G.P1)(d,[]),localeCurrencyOverride:c,priceType:m}),username:null==t?void 0:t.username};k.IZ.post((0,z.K0)().formattedUrl,{emails:[...new Set(f)],emailBody:b,emailSubject:"".concat(g.emailSubjectLine),language:l})}catch(e){null===(_=window.NREUM)||void 0===_||null===(p=_.setTransactionName)||void 0===p||p.call(_,"sendOrderConfirmationEmail/".concat(q.mI)),null===(y=window.NREUM)||void 0===y||null===(h=y.noticeError)||void 0===h||h.call(y,e,{message:"Failed sending order confirmation emails to: ".concat(f.join(", "))})}}},[u,l,n,s,a,i,o,e,null==t?void 0:t.email,null==t?void 0:t.fullName,null==t?void 0:t.username,null==r?void 0:r.emailCartCheckoutConfirmation])}},en=r(85550),ei={[d.dWU]:o.CE,[d.zM6]:o.s0},ea=e=>{var t,r,{asset:n,subscriptions:i}=e,a=(0,_.qw)({asset:n}),{licenseId:o,contentTier:l}=n;switch(a){case u.pX:return(0,I.I)({assetType:u.pX,subscriptions:[...null!==(t=null==i?void 0:i.videoSubscriptions)&&void 0!==t?t:[],...null!==(r=null==i?void 0:i.videoCompSubscriptions)&&void 0!==r?r:[]],selectedLicenseId:o});case u.xF:case u.j0:return(0,T.$)({subscriptions:[...i.musicSubscriptions,...i.musicCompSubscriptions],licenseName:n.licenseId});case u.tn:return(0,T.$)({subscriptions:[...i.sfxSubscriptions,...i.sfxCompSubscriptions],licenseName:n.licenseId});case u.gP:return(0,T.$)({subscriptions:[...i.editorialImageSubscriptions,...i.editorialImageCompSubscriptions,...i.editorialVideoSubscriptions,...i.editorialVideoCompSubscriptions],licenseName:n.licenseId,contentTier:l});case u.k4:default:return(0,T.$)({subscriptions:[...i.imageSubscriptions,...i.imageCompSubscriptions],licenseName:n.licenseId,contentTier:l})}},eo=e=>{var{asset:t,subscriptions:r}=e,n=ea({asset:t,subscriptions:r});return(0,S.q)({subscription:n})?(0,a._)((0,i._)({},n),{creditPrice:u.q9,creditType:v.Zm}):n},el=()=>{var e,{isBrandEnterprise:t}=(0,R.D)(),{data:r}=(0,U.av)(),[o,v]=(0,C.useState)(!1),[S,T]=(0,C.useState)(""),[E,L]=(0,C.useState)({}),{data:O}=(0,N.jy)(),[,D]=(0,M.VM)(e=>e),x=(0,w.uA)(),{analytics:Y}=(0,w.yh)(),z=(0,f.UM)(Y),q=(0,b.y)(z),H=x||(0,B.CU)(),G=A(),Z=(0,P.o)(),J=(0,en.GB)(),{locale:Q}=(0,m.PE)(),{sendOrderConfirmationEmails:K}=er();return{isLicensing:o,licensingAssetsHandler:(0,C.useCallback)((e=(0,n._)(function*(e){var{alreadyLicensedAssets:o=[],assets:m=[],cartMetadata:f={},format:b="",licenseeMetadata:S={},isVideoComp:E=!1,licenseMetadata:w={},licensingType:C,selectedAssetSize:A=""}=e,P=(R=(0,n._)(function*(){var e,o=V({data:(yield Promise.all(F({assets:m,user:O}))).map(e=>{var{data:t}=e;return(0,j.O)(t)}).flat()}),l=m.map((e=(0,n._)(function*(e){var t=(0,_.qw)({asset:e}),{licenseId:r}=e,{subscriptions:n}=(null==o?void 0:o.find(t=>{var{assetId:r}=t;return r===String(e.id)}))||{},{id:l,license:c}=(0,I.I)({assetType:t,subscriptions:n,selectedLicenseId:r})||{},d=yield(0,p.Oo)({asset:e,format:b,selectedAssetSize:A,licenseName:c,isVideoComp:E});return(0,a._)((0,i._)({},d,A&&y.Bg[A]&&{comp_size:A},t===u.tn&&{override_filename:"".concat(s.Oq,"_").concat(e.id,".").concat(b||d.content_format)},t===u.w5&&{content_provider:u._R}),{license_name:c,show_modal:!0,subscription_id:l})}),function(t){return e.apply(this,arguments)}));return{licensingPayload:{content:yield Promise.all(l),license_metadata:w,required_cookies:"",decode_hadron_ids:t},orderMetadata:m.map(e=>{var{currency:t,description:n,descriptionLanguageMap:i={},id:a,itemType:o,headline:l,licenseId:u,preview:s={},price:c,priceType:d,src:v,thumb:m,thumbImageUrl:f,title:p,type:_}=e,h=t,y=c,g=d;if(!h||!y||!g){var{creditCurrency:b,creditPrice:S,creditType:I}=eo({asset:e,subscriptions:r});h=h||b,y=y||S,g=d||I}return h&&!x&&(x=h),g&&!N&&(N=g),{description:i[Q]||n,formattedPrice:Z({price:y,localeCurrencyOverride:h,priceType:g}),headline:l,id:a,itemType:o,licenseId:u,licenseName:J({licenseName:u}),price:y,priceType:g,thumbnailSrc:v||f||s.url||m,title:p,type:_}})}}),function(){return R.apply(this,arguments)});try{v(!0),T("");var R,x,N,U,M,{licensingPayload:B,orderMetadata:Y}=yield P(),z=ei[C]({urlParams:{licenseeIdentifier:"organization-".concat(null==O?void 0:O.organizationId)}}).formattedUrl,W=yield k.uS.post(z,B,(0,g.S)((0,i._)({trackingId:H},q?{headers:{[c.as]:q}}:{})));if(G({assets:m}),D({assets:m,metadata:f,licensedContent:(null===(M=(0,j.O)(W.data))||void 0===M?void 0:null===(U=M.meta)||void 0===U?void 0:U.licensedContent)||[]}),!m.some(e=>{var{licenseId:t}=e;return d.b53.includes(t)})){var $=Y.filter(e=>!(0,h.te)({alreadyLicensedAssets:o,asset:e}));K({cartTotalCurrency:x,filteredOrderMetadata:$,licenseMetadata:S,priceType:N})}return T(l.MR),W}catch(e){var X,ee,et=(0,h.lW)({error:e,user:O});throw null===(ee=window.NREUM)||void 0===ee||null===(X=ee.addPageAction)||void 0===X||X.call(ee,"Enterprise licensing error",(0,a._)((0,i._)({},et),{alreadyLicensedAssets:o,assets:m.map(e=>{var{id:t,type:r}=e;return{id:t,type:r}}),cartMetadata:f,format:b,licenseeMetadata:S,isVideoComp:E,licenseMetadata:w,licensingType:C,selectedAssetSize:A})),L(e),T(l.cM),e}finally{v(!1)}}),function(t){return e.apply(this,arguments)}),[O,t,Q,Z,J,r,H,G,D,K,q]),licensingError:E,licensingStatus:S,setIsLicensing:v,setLicensingStatus:T}}},85550:function(e,t,r){r.d(t,{GB:function(){return u}});var n=r(52850),i=r(26481),a=r(79428),o=r(2784),l="ent:license_",u=()=>{var{t:e}=(0,a.$G)(n.PRh),{isBrandSstk:t}=(0,i.D)();return(0,o.useCallback)(function(){var r,n,i,{licenseName:a,subscription:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(a&&(r="".concat(l).concat(null==a?void 0:a.replace(/_unlimited/,""))),o&&(t&&(r="".concat("ecomm:license_").concat(null===(n=o.product)||void 0===n?void 0:n.name)),!t&&o.redeemableFor&&(r="".concat(l).concat(null===(i=o.redeemableFor)||void 0===i?void 0:i.replace(/_unlimited/,"")))),r)?e(r):""},[t,e])}},98761:function(e,t,r){r.d(t,{W:function(){return s}});var n=r(57460),i=r(6692),a=r(26481),o=r(5632),l=r(2784),u=r(24398),s=()=>{var e=(0,u.k)(),{isBrandSstk:t}=(0,a.D)(),r=(0,o.useRouter)();return(0,l.useCallback)(()=>{if(t){var a,o;null===(o=window.NREUM)||void 0===o||null===(a=o.addPageAction)||void 0===a||a.call(o,"UP3-1623 assign useCartRedirect cartHref to href",(0,i._)((0,n._)({},window.location||{}),{cartHref:e,isBrandSstk:t})),window.location.href=e}else r.push(e)},[e,t,r])}},23390:function(e,t,r){r.d(t,{L:function(){return o}});var n=r(75236),i=r(5632),a=r(2784),o=()=>{var e=(0,i.useRouter)();return(0,a.useCallback)(t=>{var{assetType:r,collectionId:i,verificationCode:a}=t,o=(0,n.B)({assetType:r,id:i,verificationCode:a});e.push(...o)},[e])}},64749:function(e,t,r){r.d(t,{M:function(){return o}});var n=r(32717),i=r(5632),a=/^\/search(.+)?$/,o=()=>{var{asPath:e}=(0,i.useRouter)();return a.test((0,n.oY)(e))}},19778:function(e,t,r){r.d(t,{D9:function(){return z},GH:function(){return H},Z4:function(){return Z},gV:function(){return G},kC:function(){return q}});var n=r(81862),i=r(57460),a=r(6692),o=r(2281),l=r(62054),u=r(28603),s=r(30053),c=r(10242),d=r(59581),v=r(67148),m=r(3456),f=r(21421),p=r(73816),_=r(37091),h=r(9787),y=r(79239),g=r(76825),b=r(71341),S=r(57103),I=r(74153),T=r(10218),E=r(44694),w=r(72609),C=r(6918),A=r(83140),P=r(68400),R=r(43907),L=r(45223),k=r(15306),O=r(5632),D=r(2784),x=r(3255),F=r(24351),V=r(13716),N=r(53076),U="Size limit warning",j=e=>{var t,{item:r,subscriptions:n}=e,{itemType:i,metadata:a}=r,o=(0,g.Qo)({asset:r}),l=null==a?void 0:null===(t=a.cart)||void 0===t?void 0:t.licenseId,{allSubscriptions:u}=n;switch(i){case d.pX:return(0,A.I)({licenseName:l,subscriptions:u});case d.j0:case d.tn:case d.k4:default:return(0,w.$)({licenseName:l,subscriptions:u,assetType:i,contentTier:o})}},M=e=>{var t,r,{item:n}=e;return(null===(t=n.largeThumb)||void 0===t?void 0:t.url)||(null===(r=n.preview)||void 0===r?void 0:r.url)||n.preview||n.thumb||""},B=e=>{var t,{asset:r}=e;return r.itemType===d.k4&&!r.sizes&&!(null===(t=r.metadata)||void 0===t?void 0:t.cart.sizes)},Y=e=>{var t,r,{item:n}=e,o=(0,g.EK)(n);if(n.itemType===d.w5){var l,u,s,v,m,f,p,_,h,y,S,I=null==n?void 0:null===(_=n.product)||void 0===_?void 0:null===(p=_.productPreviews[0])||void 0===p?void 0:null===(f=p.previewThumbnailImages)||void 0===f?void 0:f.find(e=>{var{resolution:t}=e;return"res600x600"===t}),T={[c.RA]:{height:600,width:600,src:"https://".concat(null==I?void 0:null===(h=I.assetFile)||void 0===h?void 0:h.s3Path)}};return{[c.RA]:{height:600,width:600,src:(0,b.VC)((0,a._)((0,i._)({},n),{angle:null==n?void 0:null===(S=n.metadata)||void 0===S?void 0:null===(y=S.cart)||void 0===y?void 0:y.angle,displays:T}))}}}return o?{[c.bm]:{height:n.height||(null===(t=n.preview)||void 0===t?void 0:t.height),width:n.width||(null===(r=n.preview)||void 0===r?void 0:r.width),src:n.preview||n.thumb}}:{[c.RA]:{height:(null===(l=n.largeThumb)||void 0===l?void 0:l.height)||(null===(u=n.preview)||void 0===u?void 0:u.height),width:(null===(s=n.largeThumb)||void 0===s?void 0:s.width)||(null===(v=n.preview)||void 0===v?void 0:v.width),src:null===(m=n.preview)||void 0===m?void 0:m.url}}},z=e=>{var{cartItems:t=[],subscriptions:r}=e;return t.filter(e=>[d.k4,d.w5,d.pX,d.j0,d.tn,d.gP,d.cF].includes(e.itemType)).map(e=>{var t,n,o,l,u,s,v,m,h,y,g,b,S,E=j({item:e,subscriptions:r}),w=Y({item:e}),A=M({item:e}).replace("-150nw","-260nw"),{price:P=0,priceType:R=p.Zm}=(0,C.U)({uniqueSubscription:E}),L=A||(null==w?void 0:null===(t=w[c.RA])||void 0===t?void 0:t.src),k=null===(n=e.assets)||void 0===n?void 0:n.find(e=>{var{assetClass:t}=e;return t===f.TT}),O=[d.w5,d.k4].includes(e.itemType)&&!e.src,D=null===(o=e.meta)||void 0===o?void 0:o.search_context;return(null===(u=e.metadata)||void 0===u?void 0:null===(l=u.cart)||void 0===l?void 0:l.searchContext)&&(D=(0,_.Be)({trackingId:null===(y=e.metadata)||void 0===y?void 0:null===(h=y.cart)||void 0===h?void 0:null===(m=h.searchContext)||void 0===m?void 0:m.searchTrackingId,searchTerm:null===(S=e.metadata)||void 0===S?void 0:null===(b=S.cart)||void 0===b?void 0:null===(g=b.searchContext)||void 0===g?void 0:g.searchTerm})),(0,i._)((0,a._)((0,i._)((0,a._)((0,i._)({},e),{id:e.itemId}),[d.k4,d.w5,d.gP,d.cF].some(t=>t===e.itemType)&&{image:{id:e.itemId,categories:e.categories,description:e.description||e.subhead||"",url:L,isEditorial:!!e.isEditorial,isPremium:!!e.isPremium,displays:w,permalink:e.permalink,isIllustration:e.isIllustration,isVector:e.isVector}}),{type:e.itemType,isFootageSelect:e.footageSelect,price:P,priceType:R,waveformPng:e.waveformPng||(null==k?void 0:k.externalUrl),currency:(null==E?void 0:E.creditCurrency)||"",licenseId:(null===(v=e.metadata)||void 0===v?void 0:null===(s=v.cart)||void 0===s?void 0:s.licenseId)||"",subscriptionId:(null==E?void 0:E.id)||"-",hasCreditsRemaining:(0,I.r)({subscription:E}),isPixelSquid:e.itemType===d.w5,isUnavailableAsset:B({asset:e}),isUnlimited:(0,T.q)({subscription:E}),isUnavailableSubscription:!E,meta:(0,i._)({},D?{search_context:D}:{})}),O&&{src:L})})},q=e=>{var{isPrimary:t}=e;return(0,l.dv)({urlParams:{isPrimary:t}}).formattedUrl},H=e=>{var{isPrimary:t}=e,r=(0,N.B)(),{data:n}=(0,R.av)();return(0,x.ZP)(r&&n?q({isPrimary:t}):null,e=>k.jm.get(e).then(e=>{var{data:t}=e;return t&&(0,a._)((0,i._)({},t),{items:z({cartItems:t.items,subscriptions:n})})}))},G=()=>{var e,t,r,o,c,f,{mutate:p}=(0,x.kY)(),[_,g]=(0,D.useState)({status:"",error:void 0}),[b,S]=(0,D.useState)(!1),I=(0,D.useRef)(!1),{productAddedAnalyticsEvent:T,cartViewedAnalyticsEvent:E,productRemovedAnalyticsEvent:w}=(0,F.K)(),{getSearchContext:C}=(0,V.Y)(),A=(0,O.useRouter)(),{queueIpReview:R}=(0,P.y)({trackingId:null===(f=C())||void 0===f?void 0:f.search_tracking_id}),L=(0,D.useCallback)(e=>{void 0===(null==e?void 0:e.cartId)||I.current||(I.current=!0,E(e))},[I,E]),N=(0,D.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.filter(e=>{var{id:r}=e;return -1===t.findIndex(e=>{var{id:t}=e;return r===t})})},[]),j=(0,D.useCallback)(e=>{var{cartItems:t=[],itemsToAdd:r=[]}=e,n=[...t];return r.forEach(e=>{var t=(0,y.rw)({asset:e}),r=n.findIndex(r=>{var{id:n,type:i}=r;return n===e.id&&i===t});r>-1?n[r]=(0,i._)({},e):n.unshift((0,a._)((0,i._)({},e),{addedTime:new Date}))}),n},[]),M=(0,D.useCallback)((e=(0,n._)(function*(e){var t,{items:r,licenseId:a,licenseAsJpeg:o}=e;return Promise.all(null==r?void 0:r.map((t=(0,n._)(function*(e){var t=(0,y.rw)({asset:e}),r=a||e.licenseId,n=o||e.licenseAsJpeg,l=yield(0,h.Oo)({asset:e,licenseName:r});return{item_id:e.id,item_type:t,metadata:{cart:(0,i._)({license_id:r,license_as_jpeg:n,subscription_id:e.subscriptionId,size:l.content_size,format:l.content_format,sizes:(0,h.rB)({asset:e}),search_context:C(e),source:[d.gP,d.cF].some(e=>e===t)?m._e:""},t===d.w5&&{angle:l.angle})}}}),function(e){return t.apply(this,arguments)})))}),function(t){return e.apply(this,arguments)}),[C]),B=(0,D.useCallback)((t=(0,n._)(function*(e){var{cart:t,eventLabel:r,gridItems:n,isPrimary:o=!0,itemsToAdd:c,licenseId:d,formatType:m,licensePrice:f,mutateCart:_,withOptimisticUpdate:h=!0,pageSection:y,listId:b}=e;try{var I=c.map(e=>(0,a._)((0,i._)({},e),{meta:(0,i._)({search_context:C(e)},e.meta)}));g({status:"",error:void 0}),S(!1);var E=j({cartItems:t.items,itemsToAdd:I});if(E.length>v.fv){g({status:u.cM}),S(!0);return}h&&_(e=>(0,a._)((0,i._)({},e),{items:E}),!1);var A=(0,l.Xq)({urlParams:{isPrimary:o}}).formattedUrl,P=yield M({items:I,licenseId:d,licenseAsJpeg:m===s._3});yield k.jm.post(A,P),g({status:u.MR}),R(c),o&&I.forEach(e=>{var i=t.items.find(t=>{var{id:r}=t;return r===e.id});i&&d!==i.licenseId&&w({cart:t,eventLabel:r,gridItems:n,items:[e],matchingCartItem:i,pageSection:y}),T({cart:t,eventLabel:r,gridItems:n,items:[e],licenseId:d,licensePrice:f,pageSection:y,listId:b})})}catch(e){g({status:u.cM,error:e})}finally{yield p(q({isPrimary:o}))}}),function(e){return t.apply(this,arguments)}),[j,M,C,T,w,p,R]);return{triggerCartViewedEvent:L,addCartItems:B,removeCartItems:(0,D.useCallback)((r=(0,n._)(function*(e){var{cartData:t,eventLabel:r,gridItems:n,isPrimary:o=!0,itemsToRemove:u=[],mutateCart:s,pageSection:c,routePathProps:d,withOptimisticUpdate:v=!0,mutateCallback:m}=e;try{v&&s(e=>(0,a._)((0,i._)({},e),{items:N(e.items,u)}),!1);var f=(0,l.h2)({urlParams:{isPrimary:o}}).formattedUrl;yield k.jm.delete(f,{data:u.map(e=>({item_id:e.id,item_type:(0,y.rw)({asset:e})}))}),o&&w({cart:t,eventLabel:r,gridItems:n,items:u,pageSection:c}),d&&A.push(...d)}catch(e){}finally{m?m({isPrimary:o}):yield p(q({isPrimary:o}))}}),function(e){return r.apply(this,arguments)}),[N,w,A,p]),moveToSaveForLater:(0,D.useCallback)((o=(0,n._)(function*(e){var{eventLabel:t,itemsToMove:r,pageSection:n,primaryCart:o,savedForLaterCart:s,mutatePrimaryCart:c,mutateSavedForLaterCart:d}=e;g({status:"",error:void 0}),S(!1);var m=j({cartItems:s.items,itemsToAdd:r});if(m.length>v.fv)throw g({status:u.cM}),S(!0),Error(U);c(e=>(0,a._)((0,i._)({},e),{items:N(e.items,r)}),!1),d(e=>(0,a._)((0,i._)({},e),{items:m}),!1);var f=(0,l.FB)({urlParams:{fromCartType:v.Yl,toCartType:v.d7}}).formattedUrl,p=yield M({items:r});yield k.jm.post(f,p),w({cart:o,eventLabel:t,items:r,pageSection:n})}),function(e){return o.apply(this,arguments)}),[j,M,w,N]),moveToPrimary:(0,D.useCallback)((c=(0,n._)(function*(e){var{itemsToMove:t,primaryCart:r,mutatePrimaryCart:n,mutateSavedForLaterCart:o}=e;g({status:"",error:void 0}),S(!1);var s=j({cartItems:r.items,itemsToAdd:t});if(s.length>v.fv)throw g({status:u.cM}),S(!0),Error(U);o(e=>(0,a._)((0,i._)({},e),{items:N(e.items,t)}),!1),n(e=>(0,a._)((0,i._)({},e),{items:s}),!1);var c=(0,l.FB)({urlParams:{fromCartType:v.d7,toCartType:v.Yl}}).formattedUrl,d=yield M({items:t});yield k.jm.post(c,d),T({cart:r,items:t})}),function(e){return c.apply(this,arguments)}),[j,M,T,N]),addToCartStatus:_,setAddToCartStatus:g,isSizeLimitWarning:b}},Z=e=>{var{cartItems:t}=e,{data:r}=(0,R.av)(),n=(0,L.U)(),{isLoading:i}=n,a=(0,o._)(n,["isLoading"]),l=(e=>{var{items:t}=e;return null==t?void 0:t.some(e=>{var{hasCreditsRemaining:t}=e;return!t})})({items:t}),{amountType:u,hasInsufficientSubscriptionCredits:s,insufficientAmount:c,hasLowDebitableBalance:d}=(0,E.k)({items:t,isLoading:!r||i,subscriptions:r,userCapabilities:a});return{amountType:u,isDebitableUser:(0,S.Kc)({userCapabilities:a}),userCanViewDebitableBalance:(0,S.LQ)({userCapabilities:a}),hasInsufficientCartItemsCredits:l,hasInsufficientSubscriptionCredits:s,insufficientAmount:c,hasLowDebitableBalance:d}}},2300:function(e,t,r){r.d(t,{w:function(){return s}});var n=r(81862),i=r(32212),a=r(28603),o=r(19748),l=r(15306),u=r(2784),s=()=>{var e,[t,r]=(0,u.useState)({status:"",error:void 0}),s=(0,u.useCallback)((e=(0,n._)(function*(e){var{collection:t,mediaItem:n}=e,u=(0,i.df)({urlParams:{id:t.id}}).formattedUrl,s={data:{id:t.id,relationships:{"cover-item":{data:{id:"".concat(n.id),type:o.A8}}},type:o.Ul}};try{r({status:a.MR,error:void 0}),yield l.uS.patch(u,s)}catch(e){r({status:a.cM,error:e})}}),function(t){return e.apply(this,arguments)}),[]);return{status:t,setStatus:r,setAsCover:s}}},95152:function(e,t,r){r.d(t,{B:function(){return v}});var n=r(57460),i=r(32212),a=r(56364),o=r(67449),l=r(20410),u=r(53076),s=r(15306),c=r(75615),d=r(3255),v=function(){var{queryParams:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:t}=(0,u.jy)(),r=(0,n._)({target:a.dlz,site_name:o.mC,setting_type:a.dlz},e);return(0,d.ZP)((null==t?void 0:t.id)&&(null==t?void 0:t.organizationId)&&(0,i.nI)({queryParams:r}).formattedUrl,e=>s.uS.get(e).then(e=>(0,c.O)(e.data)),{dedupingInterval:l.yR})}},21763:function(e,t,r){r.d(t,{b:function(){return p},n:function(){return _}});var n=r(57460),i=r(32212),a=r(956),o=r(52802),l=r(67449),u=r(20410),s=r(26481),c=r(15306),d=r(75615),v=r(3255),m=r(53076),f={[a.BRANDS.SSTK]:l.mh,[a.BRANDS.ENTERPRISE]:l.mC},p=function(){var{queryParams:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,m.B)(),{brand:r}=(0,s.D)(),a=(0,n._)({site_name:f[r]},e);return(0,v.ZP)(t&&(0,i.nI)({queryParams:a}).formattedUrl,e=>c.uS.get(e).then(e=>(0,d.O)(e.data)),{dedupingInterval:u.yR})},_=()=>{var{data:e}=p();return(null==e?void 0:e.displayUnits)||o.xn}},63380:function(e,t,r){r.d(t,{A_:function(){return I},QH:function(){return w},VM:function(){return A},Zc:function(){return R},mJ:function(){return E},oe:function(){return P},uG:function(){return T}});var n,i,a,o=r(81862),l=r(57460),u=r(6692),s=r(81146),c=r(32212),d=r(30053),v=r(10242),m=r(59581),f=r(14417),p=r(56364),_=r(9787),h=r(79041),y=r(76825),g=r(83140),b=r(15306),S=r(8557),I=function(e){var{name:t,target:r="_self"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createElement("a");n.setAttribute("data-automation","FeatureDownload_utils_link"),n.style.display="none",n.href=e,n.target=r,n.download=t||e,document.body.appendChild(n),n.click(),(0,S.bK)()||document.body.removeChild(n)},T=(n=(0,o._)(function*(e){var{downloadBundlePayload:t}=e,r=(0,s.e)({urlParams:{filename:t.bundleFilename}}).formattedUrl,{public_url:n}=(yield b.jl.post(r,t.content)).data;return n}),function(e){return n.apply(this,arguments)}),E=e=>{var{licensedContent:t,supplementalUrlType:r}=e,{downloadUrl:n,supplementalUrls:i}=t[0];if((null==i?void 0:i.length)&&r){var{url:a=n}=i.find(e=>{var{type:t}=e;return t===r})||{};return a}return n},w=(i=(0,o._)(function*(e){var{downloadPayload:t,supplementalUrlType:r,licenseeIdentifier:n}=e,i=(0,c.f$)({urlParams:{licenseeIdentifier:n}}).formattedUrl,{data:{meta:{licensedContent:a}}}=yield b.uS.post(i,t);return{downloadUrl:E({licensedContent:a,supplementalUrlType:r}),licensedContent:a}}),function(e){return i.apply(this,arguments)}),C=e=>{var{existingAssetLicenses:t,contentType:r,licenseName:n,subscriptions:i}=e;switch(r){case m.pX:var a,o,l=(0,g.I)({existingAssetLicenses:t,subscriptions:[...null!==(a=null==i?void 0:i.videoSubscriptions)&&void 0!==a?a:[],...null!==(o=null==i?void 0:i.videoCompSubscriptions)&&void 0!==o?o:[]],licenseName:n});return(null==l?void 0:l.redeemableFor)||n;case m.j0:return n||p.zUW;case m.tn:return n||p.i9D;case m.pV:default:return n}},A=(a=(0,o._)(function*(e){var t,{assets:r,existingAssetLicenses:n,format:i,selectedAssetSize:a,subscriptions:s}=e,c=r.map((t=(0,o._)(function*(e){var t=(0,h.SS)({asset:e}),r=yield(0,_.Oo)({asset:e,licenseName:e.licenseId,selectedAssetSize:a});return(0,u._)((0,l._)({},r,t===m.tn&&{override_filename:"".concat(f.Oq,"_").concat(e.id,".").concat(i||r.content_format)},(0,y.f8)(e)&&(0,l._)({content_provider:"pixelsquid-media",content_size:v.JF},e.selectedFormatType===d.yI&&{include_shadows:"on"===e.selectedShadowsOption})),{license_name:C({existingAssetLicenses:n,contentType:t,licenseName:e.licenseId,subscriptions:s}),show_modal:!0})}),function(e){return t.apply(this,arguments)}));return{required_cookies:"",content:yield Promise.all(c)}}),function(e){return a.apply(this,arguments)}),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&e.id&&(e.title||e.description)&&e.type&&window.localStorage.setItem("sstk_ent_asset_preview",JSON.stringify({id:e.id,title:e.title||e.description,thumb:e.src||e.previewImageUrl||"",video:e.previewVideoUrls,url:e.link,type:(0,y.Tp)(e),isRex:e.isRexEditorial}))},R=e=>{var t;return requestAnimationFrame?function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];t&&cancelAnimationFrame(t),t=requestAnimationFrame(()=>{e(...n)})}:e}},60212:function(e,t,r){r.d(t,{k:function(){return n}});var n=e=>e&&"string"==typeof e?"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)):""}}]);
//# sourceMappingURL=3825-25f69a7b2d2ee479.js.map